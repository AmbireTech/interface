(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[5],{1772:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return u}));n(339),n(1945);var r="rgw6ez17a rgw6ez10s rgw6ez6n2 rgw6ezns rgw6ezo4",a="su8v9k2",c="rgw6ez6a6 rgw6ezug rgw6ez14g rgw6ez6hy rgw6ez692 rgw6ez4qg",i="su8v9k6 rgw6ez17s rgw6ez14g rgw6ez40y rgw6ezcg rgw6ezag rgw6ez3zg rgw6ez34 rgw6ez42a rgw6ez4g rgw6ez69u",s="su8v9k8 rgw6ez6i2 rgw6ez692 rgw6ez4qm",o="su8v9ka rgw6ez2jg rgw6ez2dy rgw6ez22y rgw6ez28s",u="rgw6ez2oy rgw6ez69m rgw6ez4qg rgw6ez692 rgw6ez6i2"},1773:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return T}));var r=n(3),a=n.n(r),c=n(42),i=n(17),s=n(25),o=(n(75),n(735)),u=n(194),l=n(1736),E=function(e){var t=e.listing,n=e.newStatus,r=e.rows,a=e.setRows,c=e.callback,i=Object(s.a)(r),o=r.findIndex((function(e){return e===t}));t.status=n,c&&(t.callback=c),i[o]=t,a(i)};function A(e,t,n,r,a,c){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s){var _,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E({listing:t,newStatus:u.e.SIGNING,rows:n,setRows:r,callback:function(){return A(t,n,r,c,i,s)}}),_=t.marketplace,d=t.collectionAddress,f="OpenSea"===_.name?o.c:"Rarible"===_.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT:"X2Y2"===_.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_X2Y2_TRANSFER_CONTRACT:i,e.next=5,Object(l.b)(null!==f&&void 0!==f?f:"",d,c,(function(e){return E({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:t.status!==u.e.REJECTED&&t.status!==u.e.FAILED||s();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,n,r,a,c,i,s){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s,o,A){var _,f,P,g,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=s(),E({listing:t,newStatus:u.e.SIGNING,rows:n,setRows:r,callback:function(){return d(t,n,r,c,i,s,o,A)}}),f=t.asset,P=t.marketplace,e.next=5,Object(l.c)(P,f,c,i,_,(function(e){return E({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:g=e.sent,t.status===u.e.REJECTED?A():(g&&"LooksRare"===t.marketplace.name&&o(_+1),p=g?u.e.APPROVED:u.e.FAILED,E({listing:t,newStatus:p,rows:n,setRows:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,a,c=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t}));return e+(null!==(r=c.price)&&void 0!==r?r:0)-(null!==(a=c.price)&&void 0!==a?a:0)*(c.marketplace.fee/100+t.creatorPercentage)}return e}),0);return t?Math.round(100*t+Number.EPSILON)/100:0},g=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var a={images:[e.image_preview_url,r.icon],name:e.name||"#".concat(e.tokenId),status:u.e.DEFINED,asset:e,marketplace:r};if(n.push(a),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var c={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:u.e.DEFINED,collectionAddress:e.asset_contract.address,marketplace:r};t.push(c)}}))})),[t,n]},p=function(e,t){var n=!0,r=!0,a=!0,i=!0,s=!0,o=!1,l=!1,E=!1,A=!1;0===e.length&&(s=i=!1);var _,d=Object(c.a)(e);try{for(d.s();!(_=d.n()).done;){var f=_.value;f.status!==u.e.PENDING&&(i=!1),f.status!==u.e.DEFINED&&(s=!1),f.status===u.e.SIGNING?o=!0:f.status===u.e.FAILED?l=!0:f.status===u.e.REJECTED?E=!0:f.status===u.e.PAUSED&&(A=!0)}}catch(b){d.e(b)}finally{d.f()}0===t.length&&(a=r=n=!1);var P,g=Object(c.a)(t);try{for(g.s();!(P=g.n()).done;){var p=P.value;p.status!==u.e.PENDING&&(n=!1),p.status!==u.e.DEFINED&&(r=!1),p.status!==u.e.APPROVED&&(a=!1),p.status===u.e.SIGNING?o=!0:p.status===u.e.FAILED?l=!0:p.status===u.e.REJECTED?E=!0:p.status===u.e.PAUSED&&(A=!0)}}catch(b){g.e(b)}finally{g.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:a,allCollectionsPending:i,allCollectionsDefined:s,anyActiveSigning:o,anyActiveFailures:l,anyActiveRejections:E,anyPaused:A}},b=function(e){return e!==u.e.PAUSED&&e!==u.e.APPROVED},O=function(e,t,n){e.status!==u.e.PENDING&&e.status!==u.e.DEFINED||E({listing:e,newStatus:u.e.PAUSED,rows:t,setRows:n})},T=function(e,t,n){e.status!==u.e.PAUSED&&e.status!==u.e.FAILED&&e.status!==u.e.REJECTED||E({listing:e,newStatus:u.e.DEFINED,rows:t,setRows:n})}},1798:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(42),a=n(10),c=n(174),i=n(79),s=n(118),o=n(149),u=n(313),l=n(223),E=n(194),A=n(1732),_=n(1),d=n(1772),f=n(1773),P=n(0),g=function(e){var t=e.onClick,n=e.buttonText,g=e.showWarningOverride,p=void 0!==g&&g,b=Object(l.m)((function(e){return e.sellAssets})),O=Object(l.m)((function(e){return e.addMarketplaceWarning})),T=Object(l.m)((function(e){return e.removeAllMarketplaceWarnings})),R=Object(l.j)((function(e){return e.listingStatus})),w=Object(l.j)((function(e){return e.setListingStatus})),h=Object(l.j)((function(e){return e.setListings})),v=Object(l.j)((function(e){return e.setCollectionsRequiringApproval})),I=Object(_.useState)(!1),S=Object(a.a)(I,2),D=S[0],C=S[1],j=Object(_.useState)(!1),m=Object(a.a)(j,2),N=m[0],k=m[1],L=Object(_.useRef)(null);Object(c.a)(L,(function(){C(!1)})),Object(_.useEffect)((function(){var e=Object(f.c)(b),t=Object(a.a)(e,2),n=t[0],r=t[1];h(r),v(n),w(E.e.DEFINED)}),[b]);var z=Object(_.useMemo)((function(){var e,t=b.some((function(e){return void 0===e.marketplaces||0===e.marketplaces.length})),n=b.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()<6e4})),a=b.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),c=b.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()>15552e6})),i=[],s=[],o=[],u=[],l=Object(r.a)(b);try{for(l.s();!(e=l.n()).done;){var E=e.value;if(E.newListings){var A,_=Object(r.a)(E.newListings);try{for(_.s();!(A=_.n()).done;){var d=A.value;d.price?isNaN(d.price)||d.price<0?u.push([E,d]):d.price<E.floorPrice&&!d.overrideFloorPrice?s.push([E,d]):E.floor_sell_order_price&&d.price>E.floor_sell_order_price&&o.push([E,d]):i.push([E,d])}}catch(P){_.e(P)}finally{_.f()}}}}catch(P){l.e(P)}finally{l.f()}var f=0===s.length&&0===o.length;return k(f),[t,n,a,c,i,s,o,u]}),[b]),F=Object(a.a)(z,8),y=F[0],x=F[1],W=F[2],G=F[3],K=F[4],U=F[5],Y=F[6],M=F[7],J=Object(_.useMemo)((function(){return[y||x||W||G||M.length>0||K.length>0,y?"No marketplaces selected":x?"Set duration":W?"Invalid duration":G?"Max duration is 6 months":K.length>0?"".concat(K.length," item price").concat(Object(A.a)(K.length)," not set"):M.length>0?"".concat(M.length," price").concat(Object(A.a)(M.length)," are invalid"):U.length>0?"".concat(U.length," item").concat(Object(A.a)(U.length)," listed below floor"):Y.length>0?"".concat(Y.length," item").concat(Object(A.a)(Y.length)," already listed"):""]}),[y,x,W,G,K,M,U,Y]),B=Object(a.a)(J,2),H=B[0],V=B[1];Object(_.useEffect)((function(){C(!1)}),[V]);var X=function(){!H&&N||p?t():function(){if(T(),!x&&!y)if(K.length>0){var e,t=Object(r.a)(K);try{for(t.s();!(e=t.n()).done;){var n=Object(a.a)(e.value,2),c=n[0],i=n[1];O(c,{message:"PLEASE SET A PRICE",marketplace:i.marketplace})}}catch(A){t.e(A)}finally{t.f()}}else if(M.length>0){var s,o=Object(r.a)(M);try{for(o.s();!(s=o.n()).done;){var u=Object(a.a)(s.value,2),l=u[0],E=u[1];!E.overrideFloorPrice&&O(l,{message:"INVALID PRICE",marketplace:E.marketplace})}}catch(A){o.e(A)}finally{o.f()}}C(!0)}()};return Object(P.jsxs)(i.b,{position:"relative",width:"full",children:[!p&&D&&V.length>0&&Object(P.jsxs)(s.c,{className:"".concat(u.c," ").concat(d.g),transition:"250",onClick:function(){return C(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:H?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:H?"nowrap":"wrap",style:{maxWidth:H?"":"225px"},ref:L,children:[Object(P.jsx)(o.L,{}),Object(P.jsx)(i.b,{marginLeft:"4",marginRight:"8",children:V}),H?Object(P.jsx)(i.b,{paddingTop:"6",children:Object(P.jsx)(o.vb,{fill:"textSecondary",height:"20",width:"20"})}):Object(P.jsxs)(s.c,{marginLeft:"72",cursor:"pointer",color:"genieBlue",onClick:function(){C(!1),k(!0),t()},children:["Continue",Object(P.jsx)(o.f,{height:"20",width:"20"})]})]}),Object(P.jsx)(i.b,{as:"button",border:"none",backgroundColor:"genieBlue",cursor:[E.e.APPROVED,E.e.PENDING,E.e.SIGNING].includes(R)||H?"default":"pointer",color:"explicitWhite",className:d.a,onClick:function(){return R!==E.e.APPROVED&&X()},type:"button",style:{opacity:![E.e.DEFINED,E.e.FAILED,E.e.CONTINUE].includes(R)||H?.3:1},children:R===E.e.SIGNING||R===E.e.PENDING?Object(P.jsxs)(s.c,{gap:"8",children:[Object(P.jsx)(o.Q,{stroke:"backgroundSurface",height:"20",width:"20"}),R===E.e.PENDING?"Pending":"Proceed in wallet"]}):R===E.e.APPROVED?"Complete!":R===E.e.PAUSED?"Paused":R===E.e.FAILED?"Try again":R===E.e.CONTINUE?"Continue":n})]})}},1945:function(e,t,n){}}]);
//# sourceMappingURL=5.624660a6.chunk.js.map