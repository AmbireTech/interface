(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[12,7],{1674:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return function(n,a,s){return s.dispatch=function(t){return n((function(n){return e(n,t)}),!1,t),t},s.dispatchFromDevtools=!0,r({dispatch:function(){var e;return(e=s).dispatch.apply(e,arguments)}},t)}},s=["enabled","anonymousActionType"],i=function(e,t){return void 0===t&&(t={}),function(n,r,a){var i,o=t,u=o.enabled,d=o.anonymousActionType,l=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(o,s);try{i=null!=u&&u&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(v){}if(!i)return e(n,r,a);var f=i.connect(l),p=!0;a.setState=function(e,t,a){var s=n(e,t);return p?(f.send(void 0===a?{type:d||"anonymous"}:"string"===typeof a?{type:a}:a,r()),s):s};var m=function(){var e=p;p=!1,n.apply(void 0,arguments),p=e},g=e(a.setState,r,a);if(f.init(g),a.dispatchFromDevtools&&"function"===typeof a.dispatch){var b=a.dispatch;a.dispatch=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];b.apply(void 0,t)}}return f.subscribe((function(e){switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):c(e.payload,(function(e){"__setState"!==e.type?a.dispatchFromDevtools&&"function"===typeof a.dispatch&&a.dispatch(e):m(e.state)}));case"DISPATCH":switch(e.payload.type){case"RESET":return m(g),f.init(a.getState());case"COMMIT":return f.init(a.getState());case"ROLLBACK":return c(e.state,(function(e){m(e),f.init(a.getState())}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return c(e.state,(function(e){m(e)}));case"IMPORT_STATE":var t,n=e.payload.nextLiftedState,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return m(r),void f.send(null,n);case"PAUSE_RECORDING":return p=!p}return}})),g}},c=function(e,t){var n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},o=function(e){return function(t,n,r){var a=r.subscribe;return r.subscribe=function(e,t,n){var s=e;if(t){var i=(null==n?void 0:n.equalityFn)||Object.is,c=e(r.getState());s=function(n){var r=e(n);if(!i(c,r)){var a=c;t(c=r,a)}},null!=n&&n.fireImmediately&&t(c,c)}return a(s)},e(t,n,r)}},u=function e(t){return function(n){try{var r=t(n);return r instanceof Promise?r:{then:function(t){return e(t)(r)},catch:function(e){return this}}}catch(a){return{then:function(e){return this},catch:function(t){return e(t)(a)}}}}},d=function(e,t){return function(n,a,s){var i,c=r({getStorage:function(){return localStorage},serialize:JSON.stringify,deserialize:JSON.parse,partialize:function(e){return e},version:0,merge:function(e,t){return r({},t,e)}},t),o=!1,d=new Set,l=new Set;try{i=c.getStorage()}catch(j){}if(!i)return e((function(){console.warn("[zustand persist middleware] Unable to update item '"+c.name+"', the given storage is currently unavailable."),n.apply(void 0,arguments)}),a,s);var f=u(c.serialize),p=function(){var e,t=c.partialize(r({},a())),n=f({state:t,version:c.version}).then((function(e){return i.setItem(c.name,e)})).catch((function(t){e=t}));if(e)throw e;return n},m=s.setState;s.setState=function(e,t){m(e,t),p()};var g,b=e((function(){n.apply(void 0,arguments),p()}),a,s),v=function(){if(i){o=!1,d.forEach((function(e){return e(a())}));var e=(null==c.onRehydrateStorage?void 0:c.onRehydrateStorage(a()))||void 0;return u(i.getItem.bind(i))(c.name).then((function(e){if(e)return c.deserialize(e)})).then((function(e){if(e){if("number"!==typeof e.version||e.version===c.version)return e.state;if(c.migrate)return c.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((function(e){var t;return g=c.merge(e,null!=(t=a())?t:b),n(g,!0),p()})).then((function(){null==e||e(g,void 0),o=!0,l.forEach((function(e){return e(g)}))})).catch((function(t){null==e||e(void 0,t)}))}};return s.persist={setOptions:function(e){c=r({},c,e),e.getStorage&&(i=e.getStorage())},clearStorage:function(){var e;null==(e=i)||e.removeItem(c.name)},getOptions:function(){return c},rehydrate:function(){return v()},hasHydrated:function(){return o},onHydrate:function(e){return d.add(e),function(){d.delete(e)}},onFinishHydration:function(e){return l.add(e),function(){l.delete(e)}}},v(),g||b}};t.combine=function(e,t){return function(){return Object.assign({},e,t.apply(void 0,arguments))}},t.devtools=i,t.persist=d,t.redux=a,t.subscribeWithSelector=o},1679:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return f.a})),n.d(t,"b",(function(){return f.b})),n.d(t,"c",(function(){return f.c})),n.d(t,"e",(function(){return f.d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return g.a})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return y})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return x})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return B})),n.d(t,"n",(function(){return U})),n.d(t,"o",(function(){return W}));var r=n(16),a=n(31),s=n(70),i=n(1676),c=n(1726),o=n(713),u=n.n(o),d=n(1674),l=u()()(Object(d.devtools)((function(e,t){return{bagStatus:i.d.ADDING_TO_BAG,setBagStatus:function(t){return e((function(){return{bagStatus:t}}))},markAssetAsReviewed:function(t,n){return e((function(e){var r=e.itemsInBag;if(0===r.length)return{itemsInBag:[]};var s=Object(a.a)(r),c=s.findIndex((function(e){return e.asset.id===t.id}));return n||-1===c?-1!==c&&(s[c].status=i.c.REVIEWED):s.splice(c,1),{itemsInBag:s}}))},didOpenUnavailableAssets:!1,setDidOpenUnavailableAssets:function(t){return e((function(){return{didOpenUnavailableAssets:t}}))},bagExpanded:!1,toggleBag:function(){return e((function(e){return{bagExpanded:!e.bagExpanded}}))},isLocked:!1,setLocked:function(t){return e((function(){return{isLocked:t}}))},itemsInBag:[],setItemsInBag:function(t){return e((function(){return{itemsInBag:t}}))},totalEthPrice:s.a.from(0),setTotalEthPrice:function(t){return e((function(){return{totalEthPrice:t}}))},totalUsdPrice:void 0,setTotalUsdPrice:function(t){return e((function(){return{totalUsdPrice:t}}))},addAssetToBag:function(n){return e((function(e){var s=e.itemsInBag;if(t().isLocked)return{itemsInBag:t().itemsInBag};var o={asset:Object(r.a)({id:Object(c.a)()},n),status:i.c.ADDED_TO_BAG};return 0===s.length?{itemsInBag:[o],bagStatus:i.d.ADDING_TO_BAG}:{itemsInBag:[].concat(Object(a.a)(s),[o]),bagStatus:i.d.ADDING_TO_BAG}}))},removeAssetFromBag:function(n){e((function(e){var r=e.itemsInBag;if(t().isLocked)return{itemsInBag:t().itemsInBag};if(0===r.length)return{itemsInBag:[]};var s=Object(a.a)(r),i=s.findIndex((function(e){return n.id?e.asset.id===n.id:e.asset.tokenId===n.tokenId&&e.asset.address===n.address}));return-1===i?{itemsInBag:t().itemsInBag}:(s.splice(i,1),{itemsInBag:s})}))},reset:function(){return e((function(){return t().isLocked?{}:{bagStatus:i.d.ADDING_TO_BAG,itemsInBag:[],didOpenUnavailableAssets:!1,isLocked:!1}}))}}}),{name:"useBag"})),f=n(1684),p=u()()(Object(d.persist)(Object(d.devtools)((function(e){return{isExpanded:!1,setExpanded:function(t){return e((function(){return{isExpanded:t}}))}}}),{name:"useFiltersExpanded"}),{name:"useFiltersExpanded"})),m=function(){return[p((function(e){return e.isExpanded})),p((function(e){return e.setExpanded}))]},g=n(1687),b=n(10),v=n(154),j=n(1),O="undefined"!==typeof window;function h(){return!!O&&window.innerWidth<v.a.sm}function w(){var e=Object(j.useState)(h),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(j.useEffect)((function(){function e(){r(h())}if(O)return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}u()()(Object(d.devtools)((function(e){return{options:[],select:function(t){return e((function(e){var n=e.options;return n.find((function(e){return t.name===e.name}))?{options:n.filter((function(e){return e.name!==t.name}))}:{options:[].concat(Object(a.a)(n),[t])}}))}}}),{name:"useMarketplaceSelect"}));var y=u()()(Object(d.devtools)((function(e,t){return{looksRareNonce:0,listingStatus:i.e.DEFINED,listings:[],collectionsRequiringApproval:[],setLooksRareNonce:function(t){return e((function(){return{looksRareNonce:t}}))},getLooksRareNonce:function(){return t().looksRareNonce},setListingStatus:function(t){return e((function(){return{listingStatus:t}}))},setListings:function(t){return e((function(){return{listings:t}}))},setCollectionsRequiringApproval:function(t){return e((function(){return{collectionsRequiringApproval:t}}))}}}))),A=(u()()(Object(d.devtools)((function(e){return{selectedNFTs:[],isUniversalPrice:!1,selectNFT:function(t){return e((function(e){var n=e.selectedNFTs;return 0===n.length?{selectedNFTs:[t]}:n.find((function(e){return e.id===t.id}))?{selectedNFTs:n.filter((function(e){return e.id!==t.id}))}:{selectedNFTs:[].concat(Object(a.a)(n),[t])}}))},reset:function(){return e((function(){return{selectedNFTs:[]}}))},toggleUniversalPrice:function(t){return e((function(){return{isUniversalPrice:t}}))},setUniversalPrice:function(t){return e((function(e){return{selectedNFTs:e.selectedNFTs.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{price:t})})),isUniversalPrice:!0}}))},setSingleNFTPrice:function(t,n){return e((function(e){var s=e.selectedNFTs,i=s.find((function(e){return e.id===t}));return{selectedNFTs:[].concat(Object(a.a)(s.filter((function(e){return e.id!==t}))),[Object(r.a)(Object(r.a)({},i),{},{price:n})])}}))}}}),{name:"useNFTSelect"})),u()()(Object(d.devtools)((function(e){return{state:i.h.VIEWING,setProfilePageState:function(t){return e((function(){return{state:t}}))}}}),{name:"useProfilePageState"}))),I=(u()()(Object(d.persist)(Object(d.devtools)((function(e){return{history:[],addItem:function(t){e((function(e){var n=e.history,r=Object(a.a)(n);return 0!==r.length&&r[0].address===t.address||r.unshift(t),{history:r}}))}}})),{name:"useSearchHistory"})),u()()(Object(d.devtools)((function(e){return{selectedAssets:[],selectAsset:function(t){return e((function(e){var n=e.selectedAssets,s=Object(r.a)({id:Object(c.a)()},t);return 0===n.length?{selectedAssets:[s]}:{selectedAssets:[].concat(Object(a.a)(n),[s])}}))},removeAsset:function(t){e((function(e){var n=e.selectedAssets;if(0===n.length)return{selectedAssets:[]};n.find((function(e){return e.tokenId===t.tokenId&&e.address===t.address}));var r=Object(a.a)(n);return r.splice(n.findIndex((function(e){return e.tokenId===t.tokenId&&e.address===t.address})),1),{selectedAssets:r}}))},reset:function(){return e((function(){return{selectedAssets:[]}}))}}}))),n(46)),x=u()()(Object(d.devtools)((function(e){return{sellAssets:[],selectSellAsset:function(t){return e((function(e){var n=e.sellAssets,s=Object(r.a)({id:Object(c.a)()},t);return 0===n.length?{sellAssets:[s]}:{sellAssets:[].concat(Object(a.a)(n),[s])}}))},removeSellAsset:function(t){e((function(e){var n=e.sellAssets;if(0===n.length)return{sellAssets:[]};n.find((function(e){return e.id===t.id}));var r=Object(a.a)(n);return r.splice(n.findIndex((function(e){return e.id===t.id})),1),{sellAssets:r}}))},reset:function(){return e((function(){return{sellAssets:[]}}))},setGlobalExpiration:function(t){e((function(e){var n=e.sellAssets,r=Object(a.a)(n);return r.map((function(e){return e.expirationTime=t,e})),{sellAssets:r}}))},setAssetListPrice:function(t,n,r){e((function(e){var s=e.sellAssets,i=Object(a.a)(s);if(r){var c,o,u=null===(c=t.newListings)||void 0===c?void 0:c.findIndex((function(e){return e.marketplace.name===r.name}));t.newListings&&null!=u&&u>-1?(t.newListings[u]={price:n,marketplace:r,overrideFloorPrice:!1},0===u&&(t.marketAgnosticPrice=n)):null===(o=t.newListings)||void 0===o||o.push({price:n,marketplace:r,overrideFloorPrice:!1})}else t.marketAgnosticPrice=n;return i[s.findIndex((function(e){return e.id===t.id}))]=t,{sellAssets:i}}))},setGlobalMarketplaces:function(t){e((function(e){var n=e.sellAssets,r=Object(a.a)(n);return r.map((function(e){e.marketplaces=t,e.newListings=[];var n,r=Object(I.a)(t);try{var a=function(){var t=n.value,r=e.newListings.findIndex((function(e){return e.marketplace.name===t.name})),a={price:e.marketAgnosticPrice,marketplace:t,overrideFloorPrice:!1};r>-1?e.newListings[r]=a:e.newListings.push(a)};for(r.s();!(n=r.n()).done;)a()}catch(s){r.e(s)}finally{r.f()}return e})),{sellAssets:r}}))},removeAssetMarketplace:function(t,n){e((function(e){var r,s,i,c=e.sellAssets,o=Object(a.a)(c),u=c.indexOf(t),d=null!==(r=null===(s=t.marketplaces)||void 0===s?void 0:s.findIndex((function(e){return e.name===n.name})))&&void 0!==r?r:-1,l=null===(i=t.newListings)||void 0===i?void 0:i.findIndex((function(e){return e.marketplace.name===n.name})),f=JSON.parse(JSON.stringify(t));return d>-1&&(f.marketplaces.splice(d,1),f.newListings.splice(l,1)),o.splice(u,1,f),{sellAssets:o}}))},addMarketplaceWarning:function(t,n){e((function(e){var r,s=e.sellAssets,i=Object(a.a)(s);return null===(r=t.listingWarnings)||void 0===r||r.push(n),i[s.findIndex((function(e){return e.id===t.id}))]=t,{sellAssets:i}}))},removeMarketplaceWarning:function(t,n,r){e((function(e){var s,i,c,o,u=e.sellAssets,d=Object(a.a)(u);if(void 0===t.listingWarnings||void 0===t.newListings)return{sellAssets:d};var l=null!==(s=null===(i=t.listingWarnings)||void 0===i?void 0:i.findIndex((function(e){return e.marketplace.name===n.marketplace.name})))&&void 0!==s?s:-1;if(null===(c=t.listingWarnings)||void 0===c||c.splice(l,1),null===n||void 0===n||null===(o=n.message)||void 0===o?void 0:o.includes("LISTING BELOW FLOOR"))if(r){var f;null===(f=t.newListings)||void 0===f||f.forEach((function(e){return e.overrideFloorPrice=!0}))}else{var p,m,g=null!==(p=null===(m=t.newListings)||void 0===m?void 0:m.findIndex((function(e){return e.marketplace.name===n.marketplace.name})))&&void 0!==p?p:-1;t.newListings[g].overrideFloorPrice=!0}return d[u.findIndex((function(e){return e.id===t.id}))]=t,{sellAssets:d}}))},removeAllMarketplaceWarnings:function(){e((function(e){var t=e.sellAssets,n=Object(a.a)(t);return n.map((function(e){return e.listingWarnings=[]})),{sellAssets:n}}))}}}),{name:"useSelectAsset"})),k=n(4),E=n.n(k),T=n(20),P=n(221),S=n(14),z=n(715),N=n(716),_=n(1702),R=n(1698),C=u()()(Object(d.devtools)((function(e){return{state:i.k.New,txHash:"",clearTxHash:function(){return e({txHash:""})},setState:function(t){return e((function(){return{state:t}}))},sendTransaction:function(){var t=Object(T.a)(E.a.mark((function t(n,a,c){var o,u,d,l,f,p,m,g;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAddress();case 2:return o=t.sent,t.prev=3,u={to:c.to,value:s.a.from(c.valueToSend),data:c.data},t.next=7,n.estimateGas(u);case 7:return d=t.sent.mul(105).div(100),l=Object(r.a)(Object(r.a)({},u),{},{gasLimit:d}),e({state:i.k.Signing}),t.next=12,n.sendTransaction(l);case 12:return f=t.sent,e({state:i.k.Confirming}),e({txHash:f.hash}),t.next=17,f.wait();case 17:if(1!==(p=t.sent).status){t.next=25;break}return m=L(p,o,a,c.route),g=F(a,m),e({state:i.k.Success}),t.abrupt("return",{nftsPurchased:m,nftsNotPurchased:g,txReceipt:p});case 25:return e({state:i.k.Failed}),t.abrupt("return",{nftsPurchased:[],nftsNotPurchased:a,txReceipt:p});case 27:t.next=34;break;case 29:return t.prev=29,t.t0=t.catch(3),console.log("Error creating multiAssetSwap Transaction",t.t0),4001===t.t0.code?e({state:i.k.Denied}):e({state:i.k.Invalid}),t.abrupt("return");case 34:case"end":return t.stop()}}),t,null,[[3,29]])})));return function(e,n,r){return t.apply(this,arguments)}}()}}),{name:"useSendTransactionState"})),L=function(e,t,n,r){if(!e.logs)return[];var s=new P.b(z),i=new P.b(N),c=new P.b(_),o=e.logs.filter((function(e){return e.topics[0]===s.getEventTopic("Transfer")&&Object(S.hexStripZeros)(e.topics[2]).toLowerCase()===t.toLowerCase()})).map((function(e){return{address:e.address,tokenId:parseInt(e.topics[3]).toString()}})),u=e.logs.filter((function(e){return e.topics[0]===i.getEventTopic("TransferSingle")&&Object(S.hexStripZeros)(e.topics[3]).toLowerCase()===t.toLowerCase()})).map((function(e){return{address:e.address,tokenId:i.parseLog(e).args[3].toString()}})),d=e.logs.filter((function(e){return e.topics[0]===c.getEventTopic("PunkTransfer")&&Object(S.hexStripZeros)(e.topics[2]).toLowerCase()===t.toLowerCase()})).map((function(e){return{address:e.address,tokenId:c.parseLog(e).args[2].toString()}})),l=[].concat(Object(a.a)(o),Object(a.a)(u),Object(a.a)(d)),f=n.filter((function(e){return l.some((function(t){return e.address.toLowerCase()===t.address.toLowerCase()&&parseInt(e.tokenId).toString()===t.tokenId}))}));return Object(R.a)(f,r)},F=function(e,t){var n=[];return e.forEach((function(e){t.find((function(t){return t.address.toLowerCase()===e.address.toLowerCase()&&t.tokenId===e.tokenId}))||n.push(e)})),n},B=(u()()(Object(d.persist)(Object(d.devtools)((function(e){return{sweepAssets:[],setSweepAssets:function(t){return e((function(){return{sweepAssets:t}}))},removeSweepAsset:function(t){e((function(e){var n=e.sweepAssets;if(0===n.length)return{sweepAssets:[]};n.find((function(e){return e.tokenId===t.tokenId&&e.address===t.address}));var r=Object(a.a)(n);return r.splice(n.findIndex((function(e){return e.tokenId===t.tokenId&&e.address===t.address})),1),{sweepAssets:r}}))},reset:function(){return e((function(){return{sweepAssets:[]}}))}}})),{name:"useSweep"})),u()()(Object(d.devtools)((function(e){return{transactionResponse:void 0,setTransactionResponse:function(t){return e((function(){return{transactionResponse:t}}))}}}),{name:"useTransactionResponse"}))),D=n(211),M=n(21),H=n(119);function U(){var e,t,n=Object(M.useWeb3React)(),r=n.account,a=n.provider,s=(null===(e=Object(H.d)(r?[r]:[]))||void 0===e||null===(t=e[null!==r&&void 0!==r?r:""])||void 0===t?void 0:t.toSignificant(3))||"0";return null==r?{address:"",balance:"0",weiBalance:Object(D.parseEther)("0"),provider:void 0}:{address:r,balance:s,weiBalance:Object(D.parseEther)(s),provider:a}}var W=u()()(Object(d.devtools)((function(e){return{walletAssets:[],walletCollections:[],displayAssets:[],collectionFilters:[],listFilter:"All",setWalletAssets:function(t){return e((function(){return{walletAssets:null===t||void 0===t?void 0:t.filter((function(e){var t;return"ERC721"===(null===(t=e.asset_contract)||void 0===t?void 0:t.schema_name)}))}}))},setWalletCollections:function(t){return e((function(){return{walletCollections:t}}))},setCollectionFilters:function(t){return e((function(e){var n=e.collectionFilters;return 0===n.length?{collectionFilters:[t]}:n.find((function(e){return e===t}))?{collectionFilters:n.filter((function(e){return e!==t}))}:{collectionFilters:[].concat(Object(a.a)(n),[t])}}))},clearCollectionFilters:function(){return e((function(){return{collectionFilters:[]}}))},setListFilter:function(t){return e((function(){return{listFilter:t}}))},setDisplayAssets:function(t,n){return e((function(){return{displayAssets:G(t,n)}}))}}}),{name:"useWalletCollections"})),G=function(e,t){var n,r,a=e;return"Listed"===t&&(a=null===(n=a)||void 0===n?void 0:n.filter((function(e){return null!==e.listing_date}))),"Unlisted"===t&&(a=null===(r=a)||void 0===r?void 0:r.filter((function(e){return null===e.listing_date}))),a}},1684:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return p}));var r,a,s=n(31),i=n(16),c=n(8),o=n(713),u=n.n(o),d=n(1674);!function(e){e[e.LowToHigh=0]="LowToHigh",e[e.HighToLow=1]="HighToLow",e[e.RareToCommon=2]="RareToCommon",e[e.CommonToRare=3]="CommonToRare"}(a||(a={}));var l=(r={},Object(c.a)(r,a.HighToLow,"highest"),Object(c.a)(r,a.LowToHigh,"lowest"),Object(c.a)(r,a.RareToCommon,"rare"),Object(c.a)(r,a.CommonToRare,"common"),r),f={minPrice:"",maxPrice:"",minRarity:"",maxRarity:"",traits:[],markets:[],marketCount:{},buyNow:!0,search:"",sortBy:a.LowToHigh,showFullTraitName:{shouldShow:!1,trait_value:"",trait_type:""}},p=u()()(Object(d.devtools)((function(e){return Object(i.a)(Object(i.a)({},f),{},{setSortBy:function(t){return e({sortBy:t})},setSearch:function(t){return e({search:t})},setBuyNow:function(t){return e({buyNow:t})},setMarketCount:function(t){return e({marketCount:t})},addMarket:function(t){return e((function(e){var n=e.markets;return{markets:[].concat(Object(s.a)(n),[t])}}))},removeMarket:function(t){return e((function(e){return{markets:e.markets.filter((function(e){return t!==e}))}}))},addTrait:function(t){return e((function(e){var n=e.traits;return{traits:[].concat(Object(s.a)(n),[t])}}))},removeTrait:function(t){return e((function(e){return{traits:e.traits.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}))}}))},reset:function(){return e((function(){return{traits:[],minRarity:"",maxRarity:"",markets:[]}}))},setMinPrice:function(t){return e((function(){return{minPrice:t}}))},setMaxPrice:function(t){return e((function(){return{maxPrice:t}}))},setMinRarity:function(t){return e((function(){return{minRarity:t}}))},setMaxRarity:function(t){return e((function(){return{maxRarity:t}}))},toggleShowFullTraitName:function(t){var n=t.shouldShow,r=t.trait_value,a=t.trait_type;return e((function(){return{showFullTraitName:{shouldShow:n,trait_value:r,trait_type:a}}}))}})}),{name:"useCollectionTraits"}))},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){try{return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e}catch(t){return e}}},1687:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(713),a=n.n(r),s=n(1674),i=a()()(Object(s.devtools)((function(e){return{isCollectionNftsLoading:!1,setIsCollectionNftsLoading:function(t){return e((function(){return{isCollectionNftsLoading:t}}))},isCollectionStatsLoading:!1,setIsCollectionStatsLoading:function(t){return e((function(){return{isCollectionStatsLoading:t}}))}}}),{name:"useIsCollectionLoading"}))},1688:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t){var n=Math.floor(e);return"".concat(n," ").concat(t).concat(1===n?"":"s")},a=function(e){return 1!==e?"s":""}},1692:function(e,t,n){},1694:function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return _}));var r=n(4),a=n.n(r),s=n(20),i=n(70),c=n(116),o=n(211),u=n(1713),d=n(1717),l=n(1693),f=n(1682),p=n(715),m=n(1689),g=n(1676),b=n(377),v=n(14),j=n(494),O=n(104),h=n(456),w="tuple(uint256 price, bytes data)",y=["uint256","address","uint256","uint256","uint256","uint256","address","bytes","uint256","".concat(w,"[]")],A="tuple(uint256 salt, address user, uint256 network, uint256 intent, uint256 delegateType, uint256 deadline, address currency, bytes dataMask, ".concat(w,"[] items, bytes32 r, bytes32 s, uint8 v, uint8 signVersion)"),I=function(){var e=Object(s.a)(a.a.mark((function e(t,n){var r,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.b.encode(y,[n.salt,n.user,n.network,n.intent,n.delegateType,n.deadline,n.currency,n.dataMask,n.items.length,n.items]),s=Object(O.keccak256)(r),e.next=4,t.send("personal_sign",[s,n.user]);case 4:i=e.sent,n.r="0x".concat(i.slice(2,66)),n.s="0x".concat(i.slice(66,130)),n.v=parseInt(i.slice(130,132),16),x(n);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){e.v<27&&(e.v=e.v+27)},k=function(e){return b.b.encode([A],[e])},E=function(e,t,n){return{salt:function(){var e=i.a.from(Object(h.a)(16)).toHexString();return Object(v.hexZeroPad)(e,64)}(),user:e,network:1,intent:1,delegateType:1,deadline:t,currency:j.a,dataMask:"0x",items:n.map((function(e){return{price:e.price,data:(t=e.tokens,b.b.encode(["tuple(address token, uint256 tokenId)[]"],[t]))};var t})),r:"",s:"",v:0,signVersion:1}},T=[{name:"LooksRare",fee:2,icon:"/nft/svgs/marketplaces/looksrare.svg"},{name:"OpenSea",fee:2.5,icon:"/nft/svgs/marketplaces/opensea.svg"},{name:"X2Y2",fee:.5,icon:"/nft/svgs/marketplaces/x2y2.svg"}],P=function(e,t){return{amount:e,recipient:t}},S=function(e,t,n){var r=f.e*f.a,a=e.creatorPercentage*f.a,s=f.a-r-a,c=t.mul(i.a.from(r)).div(i.a.from(f.a)).toString(),o=t.mul(i.a.from(a)).div(i.a.from(f.a)).toString(),u=t.mul(i.a.from(s)).div(i.a.from(f.a)).toString();return{sellerFee:P(u,n),openseaFee:P(c,f.g),creatorFee:a>0?P(o,e.asset_contract.payout_address):void 0}};function z(e,t,n,r){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(a.a.mark((function e(t,n,r,s){var i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.Contract(n,p,r),e.next=3,r.getAddress();case 3:return o=e.sent,s(g.e.PENDING),e.prev=5,e.next=8,i.isApprovedForAll(o,t);case 8:if(!e.sent){e.next=12;break}return s(g.e.APPROVED),e.abrupt("return");case 12:return s(g.e.SIGNING),e.next=15,i.setApprovalForAll(t,!0);case 15:return u=e.sent,s(g.e.PENDING),e.next=19,u.wait();case 19:1===e.sent.status?s(g.e.APPROVED):s(g.e.FAILED),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),4001===e.t0.code?s(g.e.REJECTED):s(g.e.FAILED);case 26:case"end":return e.stop()}}),e,null,[[5,23]])})))).apply(this,arguments)}function _(e,t,n,r){return R.apply(this,arguments)}function R(){return R=Object(s.a)(a.a.mark((function e(t,n,r,s){var c,p,b,v,j,O,h,w,y,A,x,T,P,z,N,_,R,C,L,F,B,D,M,H,U,W,G=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=G.length>4&&void 0!==G[4]?G[4]:0,v=G.length>5?G[5]:void 0,j=new d.Seaport(s,{conduitKeyToConduit:f.h,overrides:{defaultConduitKey:f.d}}),e.next=5,r.getAddress();case 5:if(O=e.sent,(h=null===(c=n.newListings)||void 0===c||null===(p=c.find((function(e){return e.marketplace.name===t.name})))||void 0===p?void 0:p.price)&&n.expirationTime){e.next=9;break}return e.abrupt("return",!1);case 9:e.t0=t.name,e.next="OpenSea"===e.t0?12:"LooksRare"===e.t0?34:"X2Y2"===e.t0?54:72;break;case 12:return e.prev=12,w=Object(o.parseEther)("".concat(h)),y=S(n,w,O),A=y.sellerFee,x=y.openseaFee,T=y.creatorFee,P=[A,x,T].filter((function(e){return void 0!==e})),e.next=18,j.createOrder({offer:[{itemType:l.ItemType.ERC721,token:n.asset_contract.address,identifier:n.tokenId,amount:"1"}],consideration:P,endTime:n.expirationTime.toString(),zone:f.f,restrictedByZone:!0,allowPartialFills:!0},O);case 18:return z=e.sent,N=z.executeAllActions,e.next=22,N();case 22:return _=e.sent,e.next=25,Object(m.e)(f.i,_);case 25:return e.sent&&v(g.e.APPROVED),e.abrupt("return",!0);case 30:return e.prev=30,e.t1=e.catch(12),4001===e.t1.code?v(g.e.REJECTED):v(g.e.FAILED),e.abrupt("return",!1);case 34:return R=u.b[u.a.MAINNET],C=Math.round(Date.now()/1e3),L={isOrderAsk:!0,signer:O,collection:n.asset_contract.address,price:Object(o.parseEther)(h.toString()),tokenId:i.a.from(n.tokenId),amount:i.a.from(1),strategy:R.STRATEGY_STANDARD_SALE,currency:R.WETH,nonce:i.a.from(b),startTime:i.a.from(C),endTime:i.a.from(n.expirationTime),minPercentageToAsk:i.a.from(1e4).sub(i.a.from(200).add(i.a.from(1e4*n.creatorPercentage))).toNumber(),params:[]},e.prev=37,e.next=40,Object(u.c)(r,u.a.MAINNET,L,Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT||"");case 40:return F=e.sent,v(g.e.PENDING),B={signature:F,tokenId:n.tokenId,collection:n.asset_contract.address,strategy:R.STRATEGY_STANDARD_SALE,currency:R.WETH,signer:O,isOrderAsk:!0,nonce:b,amount:1,price:Object(o.parseEther)(h.toString()).toString(),startTime:C,endTime:n.expirationTime,minPercentageToAsk:1e4-(200+1e4*n.creatorPercentage),params:[]},e.next=45,Object(m.f)(B);case 45:return(D=e.sent)&&v(g.e.APPROVED),e.abrupt("return",D);case 50:return e.prev=50,e.t2=e.catch(37),4001===e.t2.code?v(g.e.REJECTED):v(g.e.FAILED),e.abrupt("return",!1);case 54:return M={price:Object(o.parseEther)(h.toString()),tokens:[{token:n.asset_contract.address,tokenId:i.a.from(parseFloat(n.tokenId))}]},H=E(O,n.expirationTime,[M]),e.prev=56,e.next=59,I(s,H);case 59:return U={order:k(H),isBundle:!1,bundleName:"",bundleDesc:"",orderIds:[],changePrice:!1,isCollection:!1},v(g.e.PENDING),e.next=63,Object(m.n)(U);case 63:return(W=e.sent)&&v(g.e.APPROVED),e.abrupt("return",W);case 68:return e.prev=68,e.t3=e.catch(56),4001===e.t3.code?v(g.e.REJECTED):v(g.e.FAILED),e.abrupt("return",!1);case 72:return e.abrupt("return",!1);case 73:case"end":return e.stop()}}),e,null,[[12,30],[37,50],[56,68]])}))),R.apply(this,arguments)}},1696:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,a=n(4),s=n.n(a),i=n(20);!function(e){e.ETH="ETH",e.LOOKS="LOOKS",e.MATIC="MATIC",e.AVAX="AVAX",e.BNB="BNB",e.MOONBEAM="MOONBEAM",e.MOVR="MOVR",e.FTM="FTM",e.METIS="METIS",e.xDAI="xDAI",e.KCS="KCS"}(r||(r={}));var c=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:r.ETH,e.prev=1,e.next=4,fetch("https://api.coinbase.com/v2/exchange-rates?currency=".concat(t));case 4:return n=e.sent,e.abrupt("return",n.json().then((function(e){return e.data.rates.USD})));case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},1697:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));var r="PopRank",a="/nft/logos/poprank.png",s={"Rarity Sniper":"/nft/svgs/gem.svg",Genie:a},i=function(e){if(e)return s[e]||a}},1698:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(16),a=n(1683),s=function(e,t){return e.map((function(e){var n=t&&t.find((function(t){return"Buy"===t.action&&function(e,t){return"id"in t&&t.id?t.id===e.id:"address"in t&&t.address.toLowerCase()===e.address.toLowerCase()&&t.tokenId===e.tokenId}(e,t.assetOut)}));if(t&&!n)return Object(r.a)(Object(r.a)({},e),{},{isUnavailable:!0});var s,i,c=e.updatedPriceInfo?e.updatedPriceInfo:e.priceInfo;return n&&"priceInfo"in n.assetOut&&(s=c.basePrice,i=n.assetOut.priceInfo.basePrice,Object(a.f)(s)!==Object(a.f)(i))?Object(r.a)(Object(r.a)({},e),{},{updatedPriceInfo:n.assetOut.priceInfo}):Object(r.a)(Object(r.a)({},e),{},{priceInfo:c,updatedPriceInfo:void 0,orderSource:n&&"orderSource"in n.assetOut?n.assetOut.orderSource:void 0})}))}},1699:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=new Set(["mp3","wav"]),a=function(e){if(!e)return!1;var t=e.substring(e.lastIndexOf(".")+1);return r.has(t)}},1700:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1709),a=function(e){return void 0!==r.find((function(t){return null===e||void 0===e?void 0:e.endsWith(".".concat(t))}))}},1702:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"punksOfferedForSale","outputs":[{"name":"isForSale","type":"bool"},{"name":"punkIndex","type":"uint256"},{"name":"seller","type":"address"},{"name":"minValue","type":"uint256"},{"name":"onlySellTo","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"}],"name":"enterBidForPunk","outputs":[],"payable":true,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"},{"name":"minPrice","type":"uint256"}],"name":"acceptBidForPunk","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"addresses","type":"address[]"},{"name":"indices","type":"uint256[]"}],"name":"setInitialOwners","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"imageHash","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"nextPunkIndexToAssign","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"punkIndexToAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"standard","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"punkBids","outputs":[{"name":"hasBid","type":"bool"},{"name":"punkIndex","type":"uint256"},{"name":"bidder","type":"address"},{"name":"value","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"allInitialOwnersAssigned","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"allPunksAssigned","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"}],"name":"buyPunk","outputs":[],"payable":true,"type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"punkIndex","type":"uint256"}],"name":"transferPunk","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"}],"name":"withdrawBidForPunk","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"punkIndex","type":"uint256"}],"name":"setInitialOwner","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"},{"name":"minSalePriceInWei","type":"uint256"},{"name":"toAddress","type":"address"}],"name":"offerPunkForSaleToAddress","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"punksRemainingToAssign","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"},{"name":"minSalePriceInWei","type":"uint256"}],"name":"offerPunkForSale","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"}],"name":"getPunk","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"pendingWithdrawals","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"punkIndex","type":"uint256"}],"name":"punkNoLongerForSale","outputs":[],"payable":false,"type":"function"},{"inputs":[],"payable":true,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"punkIndex","type":"uint256"}],"name":"Assign","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"punkIndex","type":"uint256"}],"name":"PunkTransfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"punkIndex","type":"uint256"},{"indexed":false,"name":"minValue","type":"uint256"},{"indexed":true,"name":"toAddress","type":"address"}],"name":"PunkOffered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"punkIndex","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":true,"name":"fromAddress","type":"address"}],"name":"PunkBidEntered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"punkIndex","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":true,"name":"fromAddress","type":"address"}],"name":"PunkBidWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"punkIndex","type":"uint256"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":true,"name":"fromAddress","type":"address"},{"indexed":true,"name":"toAddress","type":"address"}],"name":"PunkBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"punkIndex","type":"uint256"}],"name":"PunkNoLongerForSale","type":"event"}]')},1703:function(e,t,n){"use strict";function r(e,t,n){if(e.has(t))return e.get(t);var r=n&&Array.from(n).reduce((function(e,t){return!(!e&&!(null===t||void 0===t?void 0:t.rarity))}),!1);return r&&e.set(t,r),r}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var a=function(e,t){return"/nfts/asset/".concat(e.address,"/").concat(e.tokenId).concat(t?"?origin=".concat(t):"")}},1704:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(70),a=n(211),s=function(e,t,n){var s,i,c,o,u,d=e.price?Object(a.formatEther)(r.a.from(e.price).mul(r.a.from(Math.trunc(100*n))).div(100)):"0";return{address:e.collectionAddress,collectionName:t,currentEthPrice:e.price,imageUrl:null===(s=e.tokenMetadata)||void 0===s?void 0:s.imageUrl,marketplace:e.marketplace,name:null===(i=e.tokenMetadata)||void 0===i?void 0:i.name,tokenId:e.tokenId,openseaSusFlag:null===(c=e.tokenMetadata)||void 0===c?void 0:c.suspiciousFlag,smallImageUrl:null===(o=e.tokenMetadata)||void 0===o?void 0:o.smallImageUrl,collectionSymbol:e.symbol,currentUsdPrice:d,priceInfo:{USDPrice:d,ETHPrice:e.price,basePrice:e.price,baseAsset:"ETH"},tokenType:null===(u=e.tokenMetadata)||void 0===u?void 0:u.standard}}},1705:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",amount:e,decimals:18,name:"Ethereum",priceInfo:{baseAsset:"ETH",basePrice:e,ETHPrice:e},symbol:"ETH",tokenId:"ETH",tokenType:"ERC20"}}},1706:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(31),a=n(70),s=n(1676),i=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=a.a.from(0),c=a.a.from(0),o=e.sellorders[0],u=a.a.from(1).mul(10).pow(18),d=o.ammFeePercent?100*(100+o.ammFeePercent):11e3;if(e.marketplace===s.f.NFTX){var l=a.a.from(1).mul(10).pow(16);i=(i=a.a.from(d).div(100).mul(r+1)).mul(l),c=(c=a.a.from(d).div(100).mul(r)).mul(l)}e.marketplace===s.f.NFT20&&(i=(i=a.a.from(100).mul(r+1)).mul(u),c=(c=a.a.from(100).mul(r)).mul(u));var f=a.a.from(null===(t=o.ethReserves)||void 0===t?void 0:t.toLocaleString("fullwide",{useGrouping:!1})),p=a.a.from(null===(n=o.tokenReserves)||void 0===n?void 0:n.toLocaleString("fullwide",{useGrouping:!1})),m=f.mul(i).mul(1e3),g=p.sub(i).mul(997),b=f.mul(c).mul(1e3),v=p.sub(c).mul(997),j=m.div(g),O=b.div(v);return(j=(j=j.sub(O)).mul(101).div(100)).toString()},c=function(e){if(!e.some((function(e){return e.asset.marketplace===s.f.NFTX||e.asset.marketplace===s.f.NFT20}))||e.every((function(e){return e.status===s.c.REVIEWED||e.status===s.c.REVIEWING_PRICE_CHANGE})))return e;var t=function(e){return e===s.f.NFTX||e===s.f.NFT20},n=Object(r.a)(e),c=n.reduce((function(e,n){var r=n.asset,a=r.marketplace;if(!t(a))return e;var s=r.address+r.marketplace;return Object.keys(e).includes(s)?e[s].push(r.tokenId):e[s]=[r.tokenId],e}),{}),o=n.reduce((function(e,n){var r=n.asset,a=r.marketplace;if(!r.updatedPriceInfo)return e;if(!t(a))return e;var s=r.address+r.marketplace;return Object.keys(e).includes(s)?e[s]=[e[s][0]+1,r]:e[s]=[1,r],e}),{}),u=Object.keys(o).reduce((function(e,t){return e[t]=function(e,t){for(var n=a.a.from(0),r=0;r<t;r++){var s=a.a.from(i(e,r));n=n.add(s)}return n.div(t).toString()}(o[t][1],o[t][0]),e}),{});return n.forEach((function(e){if(t(e.asset.marketplace)){var n=e.asset,r=!!n.updatedPriceInfo,a=r?u[n.address+n.marketplace]:i(n,c[n.address+n.marketplace].indexOf(e.asset.tokenId));r&&e.asset.updatedPriceInfo?e.asset.updatedPriceInfo.ETHPrice=e.asset.updatedPriceInfo.basePrice=a:e.asset.currentEthPrice=e.asset.priceInfo.ETHPrice=a}})),n}},1707:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(70),a=function(e){return e.updatedPriceInfo?r.a.from(e.updatedPriceInfo.ETHPrice).sub(r.a.from(e.priceInfo.ETHPrice)):r.a.from(0)},s=function(e,t){return a(e).gt(a(t))?-1:1},i=function(e){return e&&e.reduce((function(e,t){return e.add(r.a.from(t.updatedPriceInfo?t.updatedPriceInfo.ETHPrice:t.priceInfo.ETHPrice))}),r.a.from(0))}},1708:function(e,t,n){"use strict";n.d(t,"h",(function(){return r.a})),n.d(t,"f",(function(){return a.e})),n.d(t,"e",(function(){return a.d})),n.d(t,"d",(function(){return a.c})),n.d(t,"a",(function(){return a.a})),n.d(t,"g",(function(){return a.f})),n.d(t,"c",(function(){return s.a})),n.d(t,"k",(function(){return i.a})),n.d(t,"l",(function(){return c.a})),n.d(t,"n",(function(){return o.a})),n.d(t,"b",(function(){return u.a})),n.d(t,"o",(function(){return u.c})),n.d(t,"p",(function(){return d.b})),n.d(t,"q",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return b.a}));var r=n(1703),a=(n(1704),n(1705),n(1706),n(1683)),s=n(1696),i=n(1699),c=n(1700),o=(n(1694),n(1685)),u=n(1697),d=n(1688),l=n(70),f=n(211),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"".concat(e.substring(0,t+2),"...").concat(e.substring(e.length-t,e.length-(t+n)))},m=function(e,t){var n=[],r=[],a=!1,s=!1,i=l.a.from(0),c=l.a.from(0),o=0,u=0;if(void 0!==e){var d=e.nftsPurchased,p=e.nftsNotPurchased,m=e.txReceipt;if(n&&r&&m){r=p,a=(n=d).length>=1,s=r.length>=1,i=Object(b.a)(n),o=(c=Object(b.a)(r))&&parseFloat(Object(f.formatEther)(c))*t;var g=l.a.from(m?m.gasUsed:0).mul(l.a.from(m?m.effectiveGasPrice:0));u=parseFloat(Object(f.formatEther)(g))*t}}return{nftsPurchased:n,nftsNotPurchased:r,showPurchasedModal:a,showRefundModal:s,totalPurchaseValue:i,totalRefundValue:c,totalUSDRefund:o,txFeeFiat:u}},g=function(e,t){var n=t?2:1;return 1===e?574/n:2===e?280/n:3===e||e>=5&&e<7?184/n:4===e||e>=7&&e<13?136/n:e>=13&&e<21?108/n:t?39:64},b=n(1707)},1709:function(e){e.exports=JSON.parse('["3g2","3gp","aaf","asf","avchd","avi","drc","flv","m2v","m3u8","m4p","m4v","mkv","mng","mov","mp2","mp4","mpe","mpeg","mpg","mpv","mxf","nsv","ogg","ogv","qt","rm","rmvb","roq","svi","vob","webm","wmv","yuv"]')},1726:function(e,t,n){"use strict";var r,a=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&i.test(e)},o=[],u=0;u<256;++u)o.push((u+256).toString(16).substr(1));var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return d(r)}},1748:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));n(964),n(1692);var r="_2kdvfw1",a="_2kdvfw3 _2kdvfw1 rgw6ez69u rgw6ez68m rgw6ez4am"},1753:function(e,t,n){},1758:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(263),a=function(e){var t=e.children;return Object(r.createPortal)(t,document.body)}},1759:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(1675),a=(n(964),n(1753),n(0)),s=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},i=function(e){var t=e.onClick,n=void 0===t?function(){return null}:t;return Object(a.jsx)(r.b,{className:"_199qdl71 rgw6ez3a4 rgw6ez2z4 rgw6ez154 rgw6ez1bg rgw6ez43g rgw6ez3za rgw6ez4j4 rgw6ez3ma",onClick:n})}},1935:function(e,t,n){},1936:function(e,t,n){},1937:function(e,t,n){},1980:function(e,t,n){"use strict";n.r(t);var r,a=n(31),s=n(4),i=n.n(s),c=n(20),o=n(10),u=n(70),d=n(211),l=n(21),f=n(966),p=n(204),m=n(1675),g=n(1677),b=n(1680),v=n(1676),j=n(1708),O=n(86),h=n(79),w=(n(964),n(1690),n(1935),n(0)),y=[v.d.FETCHING_ROUTE,v.d.CONFIRMING_IN_WALLET,v.d.FETCHING_FINAL_ROUTE,v.d.PROCESSING_TRANSACTION],A=function(e){var t=e.balance,n=e.isConnected,r=e.sufficientBalance,a=e.totalEthPrice,s=e.totalUsdPrice,i=e.bagStatus,c=e.fetchAssets,o=e.assetsAreInReview,u=Object(O.o)(),d=Object(O.b)(h.a.WALLET),l=y.includes(i)||d,f=n&&(l||!r||o),A=n&&(!r||i===v.d.WARNING);return Object(w.jsxs)(g.b,{className:"rgw6ez294 rgw6ez2em rgw6ezvg",children:[A&&Object(w.jsx)(g.c,{className:"m29kpj4 rgw6ez2js rgw6ez23a rgw6ez6be rgw6ez6cy rgw6ez42a rgw6ezaa rgw6ezcm",children:r?"Something went wrong. Please try again.":"Insufficient funds (".concat(Object(j.g)(t.toString())," ETH)")}),Object(w.jsxs)(g.b,{borderTopLeftRadius:A?"0":"12",borderTopRightRadius:A?"0":"12",className:"rgw6ez294 rgw6ez2em rgw6ez2js rgw6ez23a rgw6ez4gy rgw6ez48g rgw6ez6ei rgw6ez6g2",children:[Object(w.jsxs)(g.b,{gap:"4",paddingTop:"8",paddingBottom:"20",children:[Object(w.jsxs)(g.c,{justifyContent:"space-between",children:[Object(w.jsx)(m.b,{fontWeight:"semibold",className:b.j,children:"Total"}),Object(w.jsx)(m.b,{fontWeight:"semibold",className:b.j,children:"".concat(Object(j.g)(a.toString())," ETH")})]}),Object(w.jsx)(g.c,{justifyContent:"flex-end",color:"textSecondary",className:b.c,children:"".concat(Object(j.a)(s,!0))})]}),Object(w.jsxs)(g.c,{as:"button",color:"explicitWhite",className:"m29kpj6 rgw6ezca rgw6ezam rgw6ez6me rgw6ez2js rgw6ez23a rgw6ez4kg rgw6ez6ha rgw6ez69u rgw6ezcm rgw6ez68q rgw6ez42a rgw6ez3om",disabled:f,onClick:function(){n?c():u()},children:[l&&Object(w.jsx)(p.a,{size:"20px",stroke:"white"}),!n||d?"Connect wallet":i===v.d.FETCHING_FINAL_ROUTE||i===v.d.CONFIRMING_IN_WALLET?"Proceed in wallet":i===v.d.PROCESSING_TRANSACTION?"Transaction pending":"Pay"]})]})]})},I=n(714),x=n(37),k=n(2),E=Object(k.keyframes)(r||(r=Object(x.a)(["\n  0% {\n    stroke-dashoffset: 1000;\n  }\n  100% {\n    stroke-dashoffset: 0;\n  }\n"]))),T=k.default.circle.withConfig({componentId:"sc-5ix82i-0"})(["stroke-dasharray:1000;stroke-dashoffset:0;-webkit-animation:"," linear;animation:"," linear;animation-duration:160s;stroke:",";"],E,E,(function(e){return e.theme.accentActive})),P=function(){return Object(w.jsx)(m.b,{display:"flex",position:"absolute",children:Object(w.jsx)("svg",{height:"18px",width:"18px",children:Object(w.jsx)(T,{strokeWidth:"".concat(1.5),strokeLinecap:"round",style:{transform:"rotate(90deg)",transformOrigin:"50% 50%"},fill:"transparent",r:"8px",cx:"9px",cy:"9px"})})})},S=n(1681),z=n(1748),N=n(1),_=n(73),R=(n(1936),"rgw6ez12a rgw6ez18s rgw6ez69m"),C="_1kuawch",L="rgw6ezca rgw6ezag rgw6ez6ma rgw6ez6je rgw6ez40a rgw6ez40g rgw6ez48m",F=function(){return Object(w.jsx)(m.b,{position:"relative",background:"loadingBackground",className:R,children:Object(w.jsxs)(m.b,{position:"absolute",textAlign:"center",left:"1/2",top:"1/2",style:{transform:"translate3d(-50%, -50%, 0)"},color:"grey500",fontSize:"12",fontWeight:"normal",children:["Image",Object(w.jsx)("br",{}),"not",Object(w.jsx)("br",{}),"available"]})})},B=function(e){var t=e.asset,n=e.usdPrice,r=e.removeAsset,a=e.showRemove,s=e.grayscale,i=e.isMobile,c=Object(N.useState)(!1),u=Object(o.a)(c,2),l=u[0],f=u[1],p=Object(N.useState)(!1),b=Object(o.a)(p,2),v=b[0],O=b[1],h=Object(N.useState)(!t.smallImageUrl),y=Object(o.a)(h,2),A=y[0],x=y[1],k=function(){return f(!l)},E=Object(N.useRef)(null),T=a&&l;return l&&E.current&&!1===E.current.matches(":hover")&&f(!1),Object(w.jsx)(_.b,{to:Object(j.h)(t),style:{textDecoration:"none"},children:Object(w.jsxs)(g.c,{ref:E,className:"_1kuawc1 rgw6ez28s rgw6ez2ea rgw6ez2jg rgw6ez22y rgw6ez48g rgw6ez3oa rgw6ez68q rgw6ez1ay rgw6ez69u",onMouseEnter:k,onMouseLeave:k,children:[Object(w.jsxs)(m.b,{position:"relative",display:"flex",children:[Object(w.jsx)(m.b,{display:a&&i?"block":"none",className:"rgw6ez43a rgw6ez354 rgw6ez3am",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t)},transition:"250",zIndex:"1",children:Object(w.jsx)(S.p,{})}),!A&&Object(w.jsx)(m.b,{as:"img",src:t.smallImageUrl,alt:t.name,className:Object(I.default)(R,s&&!l&&C),onLoad:function(){O(!0)},onError:function(){x(!0)},visibility:v?"visible":"hidden"}),!v&&Object(w.jsx)(m.b,{position:"absolute",className:"".concat(R," ").concat(z.b)}),A&&Object(w.jsx)(F,{})]}),Object(w.jsxs)(g.b,{overflow:"hidden",width:"full",color:s?"textSecondary":"textPrimary",children:[Object(w.jsx)(g.c,{overflow:"hidden",width:"full",justifyContent:"space-between",whiteSpace:"nowrap",gap:"16",children:Object(w.jsx)(m.b,{className:"_1kuawcn rgw6ezam rgw6ezcg rgw6ez6je rgw6ez40g rgw6ez40a",children:t.name||t.tokenId})}),Object(w.jsxs)(g.c,{overflow:"hidden",whiteSpace:"nowrap",gap:"2",children:[Object(w.jsx)(m.b,{className:L,children:t.collectionName}),t.collectionIsVerified&&Object(w.jsx)(S.gb,{className:"rgw6ez3sm"})]})]}),T&&!i&&Object(w.jsx)(m.b,{marginLeft:"16",className:"rgw6ezcm rgw6ezag rgw6ez6m6 rgw6ez28y rgw6ez2eg rgw6ez2js rgw6ez23a rgw6ez4gs rgw6ez48g rgw6ez69u",onClick:function(e){e.preventDefault(),e.stopPropagation(),r(t)},children:"Remove"}),(!T||i)&&Object(w.jsxs)(g.b,{flexShrink:"0",children:[Object(w.jsx)(m.b,{className:"_1kuawcl rgw6ez3nm rgw6ezam rgw6ezcm rgw6ez3sm",children:"".concat(Object(j.g)(t.updatedPriceInfo?t.updatedPriceInfo.ETHPrice:t.priceInfo.ETHPrice)," ETH")}),Object(w.jsx)(m.b,{className:L,children:"".concat(Object(j.a)(n?parseFloat(Object(d.formatEther)(t.updatedPriceInfo?t.updatedPriceInfo.ETHPrice:t.priceInfo.ETHPrice))*n:n,!0))})]})]})})},D=function(e){var t,n=e.asset,r=e.usdPrice,a=e.markAssetAsReviewed,s=e.top,i=e.isMobile,c=u.a.from(null===(t=n.updatedPriceInfo)||void 0===t?void 0:t.ETHPrice).gt(u.a.from(n.priceInfo.ETHPrice));return Object(w.jsxs)(g.b,{className:"rgw6ez2k4 rgw6ez23m rgw6ezjg rgw6ezoy rgw6ez4k4 rgw6ez3ny rgw6ez48g rgw6ez692 rgw6ez6i2 rgw6ez4ta rgw6ez4zs rgw6ez1ay rgw6ez68q",borderTopColor:s?"backgroundOutline":"transparent",children:[Object(w.jsxs)(g.c,{className:"rgw6ezca rgw6ezag rgw6ez6ma rgw6ez46s rgw6ez3nm",children:[c?Object(w.jsx)(S.ab,{}):Object(w.jsx)(S.Z,{}),Object(w.jsx)(m.b,{children:"Price ".concat(c?"increased":"decreased"," from ").concat(Object(j.g)(n.priceInfo.ETHPrice)," ETH")})]}),Object(w.jsx)(m.b,{style:{marginLeft:"-8px",marginRight:"-8px"},children:Object(w.jsx)(B,{asset:n,usdPrice:r,removeAsset:function(){},isMobile:i})}),Object(w.jsxs)(g.c,{gap:"12",justifyContent:"space-between",children:[Object(w.jsx)(m.b,{className:"_1kuawcd _1kuawc9 rgw6ezca rgw6ezag rgw6ez6ma rgw6ez2jg rgw6ez22y rgw6ez14g rgw6ez46m rgw6ezcm rgw6ez40y rgw6ez69u rgw6ez5i4",onClick:function(e){e.preventDefault(),e.stopPropagation(),a(n,!1)},children:"Remove"}),Object(w.jsx)(m.b,{className:"_1kuawcb _1kuawc9 rgw6ezca rgw6ezag rgw6ez6ma rgw6ez2jg rgw6ez22y rgw6ez14g rgw6ez46m rgw6ezcm rgw6ez40y rgw6ez69u rgw6ez5ls",onClick:function(e){e.preventDefault(),e.stopPropagation(),a(n,!0)},children:"Keep"})]})]})},M=function(e){var t=e.assets;return Object(w.jsx)(g.b,{display:"grid",style:{gridTemplateColumns:"repeat(".concat(t.length,", 20px)"),width:"".concat(32+20*(t.length-1),"px")},children:t.map((function(e,t){return Object(w.jsx)(m.b,{as:"img",src:e.smallImageUrl,width:"32",height:"32",borderStyle:"solid",borderWidth:"1px",borderColor:"backgroundSurface",borderRadius:"4",style:{zIndex:t},className:C},"preview".concat(t))}))})},H=function(e){var t=e.assets,n=e.usdPrice,r=e.clearUnavailableAssets,a=e.didOpenUnavailableAssets,s=e.setDidOpenUnavailableAssets,i=e.isMobile,c=Object(N.useReducer)((function(e){return!e}),!1),u=Object(o.a)(c,2),d=u[0],l=u[1],f=Object(N.useState)(8),p=Object(o.a)(f,2),m=p[0],v=p[1];return Object(N.useEffect)((function(){if(m){var e=setInterval((function(){v(m-1)}),1e3);return function(){return clearInterval(e)}}a||(r(),s(!1))}),[m,r,a,s]),t&&0!==t.length?Object(w.jsxs)(g.b,{className:"rgw6ez2k4 rgw6ez23m rgw6ezjg rgw6ezoy rgw6ez4k4 rgw6ez3oa rgw6ez48g rgw6ez692 rgw6ez6i2 rgw6ez4ta rgw6ez594 rgw6ez4zs rgw6ez1ay",children:[1===t.length&&Object(w.jsx)(B,{asset:t[0],usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:i}),t.length>1&&Object(w.jsxs)(g.b,{children:[Object(w.jsxs)(g.c,{justifyContent:"space-between",marginBottom:d?"12":"0",cursor:"pointer",onClick:function(){!a&&s(!0),l()},children:[Object(w.jsxs)(g.c,{gap:"12",color:"textPrimary",className:b.c,children:[!d&&Object(w.jsx)(M,{assets:t.slice(0,5)}),"No longer available"]}),Object(w.jsx)(g.c,{color:"textSecondary",children:d?Object(w.jsx)(S.n,{}):Object(w.jsx)(S.l,{})}),!a&&Object(w.jsxs)(g.c,{position:"relative",width:"20",height:"20",color:"textPrimary",justifyContent:"center",cursor:"pointer",onClick:function(){return r()},children:[Object(w.jsx)(P,{}),Object(w.jsx)(S.s,{})]})]}),Object(w.jsx)(g.b,{gap:"8",style:{marginLeft:"-8px",marginRight:"-8px"},children:d&&t.map((function(e){return Object(w.jsx)(B,{asset:e,usdPrice:n,removeAsset:function(){},grayscale:!0,isMobile:i},e.id)}))})]})]}):null},U=n(1758),W=n(1759),G=n(154),V=n(1679),K=n(1689),J=n(1705),X=n(1706),Y=n(1696),q=n(1688),Z=n(1698),Q=n(1707),$=n(623),ee=n(99),te=(n(1937),function(){return Object(w.jsx)(g.a,{height:"full",children:Object(w.jsxs)(g.b,{gap:"12",children:[Object(w.jsx)(g.a,{children:Object(w.jsx)(S.G,{color:G.c.colors.textTertiary})}),Object(w.jsxs)(g.b,{gap:"16",children:[Object(w.jsx)(g.a,{className:b.l,style:{lineHeight:"24px"},children:"Your bag is empty"}),Object(w.jsx)(g.a,{fontSize:"12",fontWeight:"normal",color:"textSecondary",style:{lineHeight:"16px"},children:"Selected NFTs will appear here"})]})]})})}),ne=function(e){var t=e.top,n=e.show;return Object(w.jsx)(m.b,{marginX:"16",borderWidth:"1px",borderStyle:"solid",borderColor:"transparent",borderTopColor:t?"transparent":"backgroundOutline",borderBottomColor:t?"backgroundOutline":"transparent",opacity:n?"1":"0",transition:"250"})},re=function(e){var t=e.numberOfAssets,n=e.toggleBag,r=e.resetFlow;return Object(w.jsxs)(g.b,{gap:"4",paddingX:"32",marginBottom:"20",children:[Object(w.jsxs)(g.c,{className:"_1jcz50r5 rgw6ezcg rgw6ezam rgw6ez6m6 rgw6ez48g rgw6ez434",children:["My bag",Object(w.jsx)(m.b,{display:"flex",padding:"2",color:"textSecondary",cursor:"pointer",onClick:n,children:Object(w.jsx)(S.j,{})})]}),t>0&&Object(w.jsxs)(m.b,{fontSize:"14",fontWeight:"normal",style:{lineHeight:"20px"},color:"textPrimary",children:[Object(q.b)(t,"NFT")," \xb7"," ",Object(w.jsx)(m.b,{as:"span",className:"_1jcz50r7 rgw6ez48s rgw6ez68q rgw6ezcm",onClick:function(){r()},children:"Clear all"})]})]})};t.default=function(){var e=Object(l.useWeb3React)().account,t=Object(V.d)((function(e){return e.bagStatus})),n=Object(V.d)((function(e){return e.setBagStatus})),r=Object(V.d)((function(e){return e.markAssetAsReviewed})),s=Object(V.d)((function(e){return e.didOpenUnavailableAssets})),p=Object(V.d)((function(e){return e.setDidOpenUnavailableAssets})),m=Object(V.d)((function(e){return e.isLocked})),b=Object(V.d)((function(e){return e.setLocked})),j=Object(V.d)((function(e){return e.reset})),O=Object(V.d)((function(e){return e.itemsInBag})),h=Object(V.d)((function(e){return e.setItemsInBag})),y=Object(V.d)((function(e){return e.removeAssetFromBag})),I=Object(V.d)((function(e){return e.bagExpanded})),x=Object(V.d)((function(e){return e.toggleBag})),k=Object(V.d)((function(e){return e.setTotalEthPrice})),E=Object(V.d)((function(e){return e.setTotalUsdPrice})),T=Object(V.n)(),P=T.address,S=T.balance,z=T.provider,_=!!z&&!!P,R=Object(ee.f)().pathname,C=R.startsWith("/profile"),L=R.startsWith("/nfts")&&!C,F=Object(V.h)(),M=Object(V.l)((function(e){return e.sendTransaction})),G=Object(V.l)((function(e){return e.state})),q=Object(V.l)((function(e){return e.setState})),ae=Object(N.useRef)(G),se=Object(V.m)((function(e){return[e.setTransactionResponse]})),ie=Object(o.a)(se,1)[0],ce=Object($.useQueryClient)(),oe=Object(N.useMemo)((function(){return Object(X.a)(O)}),[O]),ue=Object(N.useState)(!1),de=Object(o.a)(ue,2),le=de[0],fe=de[1],pe=Object(N.useState)(!1),me=Object(o.a)(pe,2),ge=me[0],be=me[1],ve=Object(N.useState)(0),je=Object(o.a)(ve,2),Oe=je[0],he=je[1],we=Object($.useQuery)(["fetchPrice",{}],(function(){return Object(Y.a)()}),{}).data,ye=Object(N.useMemo)((function(){var e=oe.reduce((function(e,t){return t.status!==v.c.UNAVAILABLE?e.add(u.a.from(t.asset.updatedPriceInfo?t.asset.updatedPriceInfo.ETHPrice:t.asset.priceInfo.ETHPrice)):e}),u.a.from(0));return{totalEthPrice:e,totalUsdPrice:we?parseFloat(Object(d.formatEther)(e))*we:void 0}}),[oe,we]),Ae=ye.totalEthPrice,Ie=ye.totalUsdPrice,xe=Object(N.useMemo)((function(){var e=Object(f.parseEther)(S.toString());return{balance:e,sufficientBalance:!_||u.a.from(e).gte(Ae)}}),[S,Ae,_]),ke=xe.balance,Ee=xe.sufficientBalance,Te=function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M(null===z||void 0===z?void 0:z.getSigner(),oe.filter((function(e){return e.status!==v.c.UNAVAILABLE})).map((function(e){return e.asset})),t);case 4:!(n=e.sent)||ae.current!==v.k.Success&&ae.current!==v.k.Failed||(b(!1),fe(!1),ie(n),I&&x(),j());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var t=Object(c.a)(i.a.mark((function t(){var r,c,o,d,l,f,g,j,O,w,y,A;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=oe.filter((function(e){return e.status!==v.c.UNAVAILABLE})).map((function(e){return e.asset})),c=Object(J.a)(r.reduce((function(e,t){return e.add(u.a.from(t.priceInfo.ETHPrice))}),u.a.from(0)).toString()),s&&p(!1),!m&&b(!0),n(v.d.FETCHING_ROUTE),t.prev=5,t.next=8,ce.fetchQuery(["assetsRoute",c,r,e],(function(){return Object(K.h)({toSell:[c],toBuy:r,senderAddress:null!==e&&void 0!==e?e:""})}));case 8:o=t.sent,d=Object(Z.a)(r,o.route),l=d.filter((function(e){return e.updatedPriceInfo})).sort(Q.b),f=d.filter((function(e){return e.isUnavailable})),g=d.filter((function(e){return!e.updatedPriceInfo&&!e.isUnavailable})),j=g.length>0,O=l.length>0,w=f.length>0,y=j||O||w,A=O||w,h([].concat(Object(a.a)(f.map((function(e){return{asset:e,status:v.c.UNAVAILABLE}}))),Object(a.a)(l.map((function(e){return{asset:e,status:v.c.REVIEWING_PRICE_CHANGE}}))),Object(a.a)(g.map((function(e){return{asset:e,status:v.c.REVIEWED}}))))),b(!1),y?A?n(O?v.d.IN_REVIEW:v.d.CONFIRM_REVIEW):(Te(o),n(v.d.CONFIRMING_IN_WALLET)):n(v.d.ADDING_TO_BAG),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(5),n(v.d.ADDING_TO_BAG);case 26:case"end":return t.stop()}}),t,null,[[5,23]])})));return function(){return t.apply(this,arguments)}}();Object(N.useEffect)((function(){V.l.subscribe((function(e){return ae.current=e.state}))}),[]);var Se=Object(N.useMemo)((function(){return{unchangedAssets:oe.filter((function(e){return e.status===v.c.ADDED_TO_BAG||e.status===v.c.REVIEWED})).map((function(e){return e.asset})),priceChangedAssets:oe.filter((function(e){return e.status===v.c.REVIEWING_PRICE_CHANGE})).map((function(e){return e.asset})),unavailableAssets:oe.filter((function(e){return e.status===v.c.UNAVAILABLE})).map((function(e){return e.asset})),availableItems:oe.filter((function(e){return e.status!==v.c.UNAVAILABLE}))}}),[oe]),ze=Se.unchangedAssets,Ne=Se.priceChangedAssets,_e=Se.unavailableAssets,Re=Se.availableItems;Object(N.useEffect)((function(){var e=Ne.length>0,r=oe.length>0;t!==v.d.IN_REVIEW||e||n(r?v.d.CONFIRM_REVIEW:v.d.ADDING_TO_BAG)}),[t,oe,Ne,n]),Object(N.useEffect)((function(){m&&!le&&fe(!0)}),[m,le]),Object(N.useEffect)((function(){I&&x()}),[R]),Object(N.useEffect)((function(){ae.current===v.k.Confirming&&n(v.d.PROCESSING_TRANSACTION),ae.current!==v.k.Denied&&ae.current!==v.k.Invalid||(ae.current===v.k.Invalid?n(v.d.WARNING):n(v.d.CONFIRM_REVIEW),q(v.k.New),b(!1),fe(!1))}),[ae.current]),Object(N.useEffect)((function(){k(Ae),E(Ie)}),[Ae,Ie,k,E]);var Ce=oe.length>0||_e.length>0;return Object(w.jsx)(w.Fragment,{children:I&&L?Object(w.jsxs)(U.a,{children:[Object(w.jsxs)(g.b,{zIndex:F||le?"modal":"3",className:"_1jcz50r1 rgw6ez43g rgw6ez3a4 rgw6ez3dz rgw6ez14g rgw6ez1ay rgw6ez34m rgw6ez4ha rgw6ez48g rgw6ez2kg rgw6ez244",children:[Object(w.jsx)(re,{numberOfAssets:oe.length,toggleBag:x,resetFlow:j}),0===oe.length&&t===v.d.ADDING_TO_BAG&&Object(w.jsx)(te,{}),Object(w.jsx)(ne,{top:!0,show:ge&&Oe>0}),Object(w.jsxs)(g.b,{ref:function(e){if(null!==e){var t=e.scrollHeight>e.clientHeight;t!==ge&&be(t)}},className:"_1jcz50r3 rgw6ez294 rgw6ez2em rgw6ez1ug rgw6ez6kq",onScroll:function(e){var t=e.currentTarget.scrollTop,n=e.currentTarget.clientHeight,r=e.currentTarget.scrollHeight;he(t?(t+n)/r*100:0)},gap:"12",children:[Object(w.jsxs)(g.b,{display:Ne.length>0||_e.length>0?"flex":"none",children:[_e.length>0&&Object(w.jsx)(H,{assets:_e,usdPrice:we,clearUnavailableAssets:function(){return h(Re)},didOpenUnavailableAssets:s,setDidOpenUnavailableAssets:p,isMobile:F}),Ne.map((function(e,t){return Object(w.jsx)(D,{asset:e,usdPrice:we,markAssetAsReviewed:r,top:0===t&&0===_e.length,isMobile:F},e.id)}))]}),Object(w.jsx)(g.b,{gap:"8",children:ze.map((function(e){return Object(w.jsx)(B,{asset:e,usdPrice:we,removeAsset:y,showRemove:!0,isMobile:F},e.id)}))})]}),Object(w.jsx)(ne,{show:ge&&Oe<100}),Ce&&Object(w.jsx)(A,{balance:ke,sufficientBalance:Ee,isConnected:_,totalEthPrice:Ae,totalUsdPrice:Ie,bagStatus:t,fetchAssets:Pe,assetsAreInReview:oe.some((function(e){return e.status===v.c.REVIEWING_PRICE_CHANGE}))})]}),le&&Object(w.jsx)(W.a,{onClick:function(){return m?void 0:fe(!1)}})]}):null})}}}]);
//# sourceMappingURL=12.694f116c.chunk.js.map