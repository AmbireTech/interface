(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[17],{1688:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e,t){var n=Math.floor(e);return"".concat(n," ").concat(t).concat(1===n?"":"s")},a=function(e){return 1!==e?"s":""}},1694:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k}));var r=n(4),a=n.n(r),c=n(20),s=n(70),i=n(116),o=n(211),u=n(1713),l=n(1717),d=n(1693),f=n(1682),b=n(715),p=n(1689),E=n(1676),A=n(377),g=n(14),O=n(494),j=n(104),P=n(456),_="tuple(uint256 price, bytes data)",h=["uint256","address","uint256","uint256","uint256","uint256","address","bytes","uint256","".concat(_,"[]")],v="tuple(uint256 salt, address user, uint256 network, uint256 intent, uint256 delegateType, uint256 deadline, address currency, bytes dataMask, ".concat(_,"[] items, bytes32 r, bytes32 s, uint8 v, uint8 signVersion)"),m=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.b.encode(h,[n.salt,n.user,n.network,n.intent,n.delegateType,n.deadline,n.currency,n.dataMask,n.items.length,n.items]),c=Object(j.keccak256)(r),e.next=4,t.send("personal_sign",[c,n.user]);case 4:s=e.sent,n.r="0x".concat(s.slice(2,66)),n.s="0x".concat(s.slice(66,130)),n.v=parseInt(s.slice(130,132),16),T(n);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){e.v<27&&(e.v=e.v+27)},R=function(e){return A.b.encode([v],[e])},S=function(e,t,n){return{salt:function(){var e=s.a.from(Object(P.a)(16)).toHexString();return Object(g.hexZeroPad)(e,64)}(),user:e,network:1,intent:1,delegateType:1,deadline:t,currency:O.a,dataMask:"0x",items:n.map((function(e){return{price:e.price,data:(t=e.tokens,A.b.encode(["tuple(address token, uint256 tokenId)[]"],[t]))};var t})),r:"",s:"",v:0,signVersion:1}},I=[{name:"LooksRare",fee:2,icon:"/nft/svgs/marketplaces/looksrare.svg"},{name:"OpenSea",fee:2.5,icon:"/nft/svgs/marketplaces/opensea.svg"},{name:"X2Y2",fee:.5,icon:"/nft/svgs/marketplaces/x2y2.svg"}],x=function(e,t){return{amount:e,recipient:t}},N=function(e,t,n){var r=f.e*f.a,a=e.creatorPercentage*f.a,c=f.a-r-a,i=t.mul(s.a.from(r)).div(s.a.from(f.a)).toString(),o=t.mul(s.a.from(a)).div(s.a.from(f.a)).toString(),u=t.mul(s.a.from(c)).div(s.a.from(f.a)).toString();return{sellerFee:x(u,n),openseaFee:x(i,f.g),creatorFee:a>0?x(o,e.asset_contract.payout_address):void 0}};function w(e,t,n,r){return C.apply(this,arguments)}function C(){return(C=Object(c.a)(a.a.mark((function e(t,n,r,c){var s,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new i.Contract(n,b,r),e.next=3,r.getAddress();case 3:return o=e.sent,c(E.e.PENDING),e.prev=5,e.next=8,s.isApprovedForAll(o,t);case 8:if(!e.sent){e.next=12;break}return c(E.e.APPROVED),e.abrupt("return");case 12:return c(E.e.SIGNING),e.next=15,s.setApprovalForAll(t,!0);case 15:return u=e.sent,c(E.e.PENDING),e.next=19,u.wait();case 19:1===e.sent.status?c(E.e.APPROVED):c(E.e.FAILED),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),4001===e.t0.code?c(E.e.REJECTED):c(E.e.FAILED);case 26:case"end":return e.stop()}}),e,null,[[5,23]])})))).apply(this,arguments)}function k(e,t,n,r){return D.apply(this,arguments)}function D(){return D=Object(c.a)(a.a.mark((function e(t,n,r,c){var i,b,A,g,O,j,P,_,h,v,T,I,x,w,C,k,D,y,L,F,W,G,z,K,Y,M,U=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A=U.length>4&&void 0!==U[4]?U[4]:0,g=U.length>5?U[5]:void 0,O=new l.Seaport(c,{conduitKeyToConduit:f.h,overrides:{defaultConduitKey:f.d}}),e.next=5,r.getAddress();case 5:if(j=e.sent,(P=null===(i=n.newListings)||void 0===i||null===(b=i.find((function(e){return e.marketplace.name===t.name})))||void 0===b?void 0:b.price)&&n.expirationTime){e.next=9;break}return e.abrupt("return",!1);case 9:e.t0=t.name,e.next="OpenSea"===e.t0?12:"LooksRare"===e.t0?34:"X2Y2"===e.t0?54:72;break;case 12:return e.prev=12,_=Object(o.parseEther)("".concat(P)),h=N(n,_,j),v=h.sellerFee,T=h.openseaFee,I=h.creatorFee,x=[v,T,I].filter((function(e){return void 0!==e})),e.next=18,O.createOrder({offer:[{itemType:d.ItemType.ERC721,token:n.asset_contract.address,identifier:n.tokenId,amount:"1"}],consideration:x,endTime:n.expirationTime.toString(),zone:f.f,restrictedByZone:!0,allowPartialFills:!0},j);case 18:return w=e.sent,C=w.executeAllActions,e.next=22,C();case 22:return k=e.sent,e.next=25,Object(p.e)(f.i,k);case 25:return e.sent&&g(E.e.APPROVED),e.abrupt("return",!0);case 30:return e.prev=30,e.t1=e.catch(12),4001===e.t1.code?g(E.e.REJECTED):g(E.e.FAILED),e.abrupt("return",!1);case 34:return D=u.b[u.a.MAINNET],y=Math.round(Date.now()/1e3),L={isOrderAsk:!0,signer:j,collection:n.asset_contract.address,price:Object(o.parseEther)(P.toString()),tokenId:s.a.from(n.tokenId),amount:s.a.from(1),strategy:D.STRATEGY_STANDARD_SALE,currency:D.WETH,nonce:s.a.from(A),startTime:s.a.from(y),endTime:s.a.from(n.expirationTime),minPercentageToAsk:s.a.from(1e4).sub(s.a.from(200).add(s.a.from(1e4*n.creatorPercentage))).toNumber(),params:[]},e.prev=37,e.next=40,Object(u.c)(r,u.a.MAINNET,L,Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT||"");case 40:return F=e.sent,g(E.e.PENDING),W={signature:F,tokenId:n.tokenId,collection:n.asset_contract.address,strategy:D.STRATEGY_STANDARD_SALE,currency:D.WETH,signer:j,isOrderAsk:!0,nonce:A,amount:1,price:Object(o.parseEther)(P.toString()).toString(),startTime:y,endTime:n.expirationTime,minPercentageToAsk:1e4-(200+1e4*n.creatorPercentage),params:[]},e.next=45,Object(p.f)(W);case 45:return(G=e.sent)&&g(E.e.APPROVED),e.abrupt("return",G);case 50:return e.prev=50,e.t2=e.catch(37),4001===e.t2.code?g(E.e.REJECTED):g(E.e.FAILED),e.abrupt("return",!1);case 54:return z={price:Object(o.parseEther)(P.toString()),tokens:[{token:n.asset_contract.address,tokenId:s.a.from(parseFloat(n.tokenId))}]},K=S(j,n.expirationTime,[z]),e.prev=56,e.next=59,m(c,K);case 59:return Y={order:R(K),isBundle:!1,bundleName:"",bundleDesc:"",orderIds:[],changePrice:!1,isCollection:!1},g(E.e.PENDING),e.next=63,Object(p.n)(Y);case 63:return(M=e.sent)&&g(E.e.APPROVED),e.abrupt("return",M);case 68:return e.prev=68,e.t3=e.catch(56),4001===e.t3.code?g(E.e.REJECTED):g(E.e.FAILED),e.abrupt("return",!1);case 72:return e.abrupt("return",!1);case 73:case"end":return e.stop()}}),e,null,[[12,30],[37,50],[56,68]])}))),D.apply(this,arguments)}},1718:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return u}));n(964),n(1752);var r="rgw6ez17a rgw6ez10s rgw6ez6n2 rgw6ezns rgw6ezo4",a="su8v9k2",c="rgw6ez6a6 rgw6ezug rgw6ez14g rgw6ez6hy rgw6ez692 rgw6ez4qg",s="su8v9k6 rgw6ez17s rgw6ez14g rgw6ez40y rgw6ezcg rgw6ezag rgw6ez3zg rgw6ez34 rgw6ez42a rgw6ez4g rgw6ez69u",i="su8v9k8 rgw6ez6i2 rgw6ez692 rgw6ez4qm",o="su8v9ka rgw6ez2jg rgw6ez2dy rgw6ez22y rgw6ez28s",u="rgw6ez2oy rgw6ez69m rgw6ez4qg rgw6ez692 rgw6ez6i2"},1719:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return A})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return j})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return _}));var r=n(4),a=n.n(r),c=n(46),s=n(20),i=n(31),o=(n(70),n(1682)),u=n(1676),l=n(1694),d=function(e){var t=e.listing,n=e.newStatus,r=e.rows,a=e.setRows,c=e.callback,s=Object(i.a)(r),o=r.findIndex((function(e){return e===t}));t.status=n,c&&(t.callback=c),s[o]=t,a(s)};function f(e,t,n,r,a,c){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(a.a.mark((function e(t,n,r,c,s,i){var b,p,E;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({listing:t,newStatus:u.e.SIGNING,rows:n,setRows:r,callback:function(){return f(t,n,r,c,s,i)}}),b=t.marketplace,p=t.collectionAddress,E="OpenSea"===b.name?o.c:"Rarible"===b.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_LOOKSRARE_MARKETPLACE_CONTRACT:"X2Y2"===b.name?Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_KEY:"b8f7dabddb1c3b03b394619767972160",REACT_APP_AMPLITUDE_TEST_KEY:"1c694b28cd089acc2c386d518f93a775",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_FORTMATIC_KEY:"pk_live_F937DF033A1666BF",REACT_APP_GOOGLE_ANALYTICS_ID:"G-KDP9B6W4H8",REACT_APP_FIREBASE_KEY:"AIzaSyBcZWwTcTJHj_R6ipZcrJkXdq05PuX0Rs0",REACT_APP_AWS_API_ENDPOINT:"https://api.uniswap.org/v1/graphql",REACT_APP_AWS_API_REGION:"us-east-2",REACT_APP_AWS_API_ACCESS_KEY:"AKIAYJJWW6AQ47ODATHN",REACT_APP_AWS_API_ACCESS_SECRET:"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",REACT_APP_AWS_X_API_KEY:"z9dReS5UtHu7iTrUsTuWRozLthi3AxOZlvobrIdr14",REACT_APP_TEMP_API_URL:"https://temp.api.uniswap.org/v1"}).REACT_APP_X2Y2_TRANSFER_CONTRACT:s,e.next=5,Object(l.b)(null!==E&&void 0!==E?E:"",p,c,(function(e){return d({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:t.status!==u.e.REJECTED&&t.status!==u.e.FAILED||i();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,r,a,c,s,i){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(a.a.mark((function e(t,n,r,c,s,i,o,f){var b,E,A,g,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=i(),d({listing:t,newStatus:u.e.SIGNING,rows:n,setRows:r,callback:function(){return p(t,n,r,c,s,i,o,f)}}),E=t.asset,A=t.marketplace,e.next=5,Object(l.c)(A,E,c,s,b,(function(e){return d({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:g=e.sent,t.status===u.e.REJECTED?f():(g&&"LooksRare"===t.marketplace.name&&o(b+1),O=g?u.e.APPROVED:u.e.FAILED,d({listing:t,newStatus:O,rows:n,setRows:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,a,c=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t}));return e+(null!==(r=c.price)&&void 0!==r?r:0)-(null!==(a=c.price)&&void 0!==a?a:0)*(c.marketplace.fee/100+t.creatorPercentage)}return e}),0);return t?Math.round(100*t+Number.EPSILON)/100:0},g=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var a={images:[e.image_preview_url,r.icon],name:e.name||"#".concat(e.tokenId),status:u.e.DEFINED,asset:e,marketplace:r};if(n.push(a),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var c={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:u.e.DEFINED,collectionAddress:e.asset_contract.address,marketplace:r};t.push(c)}}))})),[t,n]},O=function(e,t){var n=!0,r=!0,a=!0,s=!0,i=!0,o=!1,l=!1,d=!1,f=!1;0===e.length&&(i=s=!1);var b,p=Object(c.a)(e);try{for(p.s();!(b=p.n()).done;){var E=b.value;E.status!==u.e.PENDING&&(s=!1),E.status!==u.e.DEFINED&&(i=!1),E.status===u.e.SIGNING?o=!0:E.status===u.e.FAILED?l=!0:E.status===u.e.REJECTED?d=!0:E.status===u.e.PAUSED&&(f=!0)}}catch(j){p.e(j)}finally{p.f()}0===t.length&&(a=r=n=!1);var A,g=Object(c.a)(t);try{for(g.s();!(A=g.n()).done;){var O=A.value;O.status!==u.e.PENDING&&(n=!1),O.status!==u.e.DEFINED&&(r=!1),O.status!==u.e.APPROVED&&(a=!1),O.status===u.e.SIGNING?o=!0:O.status===u.e.FAILED?l=!0:O.status===u.e.REJECTED?d=!0:O.status===u.e.PAUSED&&(f=!0)}}catch(j){g.e(j)}finally{g.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:a,allCollectionsPending:s,allCollectionsDefined:i,anyActiveSigning:o,anyActiveFailures:l,anyActiveRejections:d,anyPaused:f}},j=function(e){return e!==u.e.PAUSED&&e!==u.e.APPROVED},P=function(e,t,n){e.status!==u.e.PENDING&&e.status!==u.e.DEFINED||d({listing:e,newStatus:u.e.PAUSED,rows:t,setRows:n})},_=function(e,t,n){e.status!==u.e.PAUSED&&e.status!==u.e.FAILED&&e.status!==u.e.REJECTED||d({listing:e,newStatus:u.e.DEFINED,rows:t,setRows:n})}},1751:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(46),a=n(10),c=n(227),s=n(1675),i=n(1677),o=n(1681),u=n(1680),l=n(1679),d=n(1676),f=n(1688),b=n(1),p=n(1718),E=n(1719),A=n(0),g=function(e){var t=e.onClick,n=e.buttonText,g=e.showWarningOverride,O=void 0!==g&&g,j=Object(l.k)((function(e){return e.sellAssets})),P=Object(l.k)((function(e){return e.addMarketplaceWarning})),_=Object(l.k)((function(e){return e.removeAllMarketplaceWarnings})),h=Object(l.i)((function(e){return e.listingStatus})),v=Object(l.i)((function(e){return e.setListingStatus})),m=Object(l.i)((function(e){return e.setListings})),T=Object(l.i)((function(e){return e.setCollectionsRequiringApproval})),R=Object(b.useState)(!1),S=Object(a.a)(R,2),I=S[0],x=S[1],N=Object(b.useState)(!1),w=Object(a.a)(N,2),C=w[0],k=w[1],D=Object(b.useRef)(null);Object(c.a)(D,(function(){x(!1)})),Object(b.useEffect)((function(){var e=Object(E.c)(j),t=Object(a.a)(e,2),n=t[0],r=t[1];m(r),T(n),v(d.e.DEFINED)}),[j]);var y=Object(b.useMemo)((function(){var e,t=j.some((function(e){return void 0===e.marketplaces||0===e.marketplaces.length})),n=j.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()<6e4})),a=j.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),c=j.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()>15552e6})),s=[],i=[],o=[],u=[],l=Object(r.a)(j);try{for(l.s();!(e=l.n()).done;){var d=e.value;if(d.newListings){var f,b=Object(r.a)(d.newListings);try{for(b.s();!(f=b.n()).done;){var p=f.value;p.price?isNaN(p.price)||p.price<0?u.push([d,p]):p.price<d.floorPrice&&!p.overrideFloorPrice?i.push([d,p]):d.floor_sell_order_price&&p.price>d.floor_sell_order_price&&o.push([d,p]):s.push([d,p])}}catch(A){b.e(A)}finally{b.f()}}}}catch(A){l.e(A)}finally{l.f()}var E=0===i.length&&0===o.length;return k(E),[t,n,a,c,s,i,o,u]}),[j]),L=Object(a.a)(y,8),F=L[0],W=L[1],G=L[2],z=L[3],K=L[4],Y=L[5],M=L[6],U=L[7],B=Object(b.useMemo)((function(){return[F||W||G||z||U.length>0||K.length>0,F?"No marketplaces selected":W?"Set duration":G?"Invalid duration":z?"Max duration is 6 months":K.length>0?"".concat(K.length," item price").concat(Object(f.a)(K.length)," not set"):U.length>0?"".concat(U.length," price").concat(Object(f.a)(U.length)," are invalid"):Y.length>0?"".concat(Y.length," item").concat(Object(f.a)(Y.length)," listed below floor"):M.length>0?"".concat(M.length," item").concat(Object(f.a)(M.length)," already listed"):""]}),[F,W,G,z,K,U,Y,M]),V=Object(a.a)(B,2),H=V[0],J=V[1];Object(b.useEffect)((function(){x(!1)}),[J]);var X=function(){!H&&C||O?t():function(){if(_(),!W&&!F)if(K.length>0){var e,t=Object(r.a)(K);try{for(t.s();!(e=t.n()).done;){var n=Object(a.a)(e.value,2),c=n[0],s=n[1];P(c,{message:"PLEASE SET A PRICE",marketplace:s.marketplace})}}catch(f){t.e(f)}finally{t.f()}}else if(U.length>0){var i,o=Object(r.a)(U);try{for(o.s();!(i=o.n()).done;){var u=Object(a.a)(i.value,2),l=u[0],d=u[1];!d.overrideFloorPrice&&P(l,{message:"INVALID PRICE",marketplace:d.marketplace})}}catch(f){o.e(f)}finally{o.f()}}x(!0)}()};return Object(A.jsxs)(s.b,{position:"relative",width:"full",children:[!O&&I&&J.length>0&&Object(A.jsxs)(i.c,{className:"".concat(u.c," ").concat(p.g),transition:"250",onClick:function(){return x(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:H?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:H?"nowrap":"wrap",style:{maxWidth:H?"":"225px"},ref:D,children:[Object(A.jsx)(o.E,{}),Object(A.jsx)(s.b,{marginLeft:"4",marginRight:"8",children:J}),H?Object(A.jsx)(s.b,{paddingTop:"6",children:Object(A.jsx)(o.hb,{fill:"textSecondary",height:"20",width:"20"})}):Object(A.jsxs)(i.c,{marginLeft:"72",cursor:"pointer",color:"genieBlue",onClick:function(){x(!1),k(!0),t()},children:["Continue",Object(A.jsx)(o.f,{height:"20",width:"20"})]})]}),Object(A.jsx)(s.b,{as:"button",border:"none",backgroundColor:"genieBlue",cursor:[d.e.APPROVED,d.e.PENDING,d.e.SIGNING].includes(h)||H?"default":"pointer",color:"explicitWhite",className:p.a,onClick:function(){return h!==d.e.APPROVED&&X()},type:"button",style:{opacity:![d.e.DEFINED,d.e.FAILED,d.e.CONTINUE].includes(h)||H?.3:1},children:h===d.e.SIGNING||h===d.e.PENDING?Object(A.jsxs)(i.c,{gap:"8",children:[Object(A.jsx)(o.I,{stroke:"backgroundSurface",height:"20",width:"20"}),h===d.e.PENDING?"Pending":"Proceed in wallet"]}):h===d.e.APPROVED?"Complete!":h===d.e.PAUSED?"Paused":h===d.e.FAILED?"Try again":h===d.e.CONTINUE?"Continue":n})]})}},1752:function(e,t,n){},1984:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(46),s=n(20),i=n(10),o=n(1713),u=n(21),l=n(1675),d=n(1677),f=n(1681),b=n(1680),p=n(154),E=n(1679),A=n(1689),g=n(1676),O=n(1688),j=n(1),P=n(1751),_=n(1718),h=n(714),v=n(1683),m=n(0),T=function(e){var t=e.sectionTitle,n=e.caption,r=void 0===n?void 0:n,o=e.title,u=void 0===o?void 0:o,p=e.rows,A=e.index,O=e.openIndex,P=e.isSuccessScreen,T=void 0!==P&&P,R=Object(j.useState)(!1),S=Object(i.a)(R,2),I=S[0],x=S[1],N=p.some((function(e){return e.status!==g.e.APPROVED})),w=Object(E.k)((function(e){return e.sellAssets})),C=Object(E.k)((function(e){return e.removeAssetMarketplace})),k=function(e){if(1===A){var t,n=Object(c.a)(w);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.asset_contract.address===e.collectionAddress&&C(r,e.marketplace)}}catch(a){n.e(a)}finally{n.f()}}else C(e.asset,e.marketplace)};function D(e){var t,n,r=e,a=r.asset.newListings;return null!==(t=null===a||void 0===a||null===(n=a.find((function(e){return e.marketplace.name===r.marketplace.name})))||void 0===n?void 0:n.price)&&void 0!==t?t:0}Object(j.useEffect)((function(){x(A===O)}),[A,O]);var y=!N&&p.length>0&&!T;return Object(m.jsxs)(d.c,{flexWrap:"wrap",className:b.l,marginTop:"10",marginBottom:"10",onClick:function(){return p.length>0&&x(!I)},color:y?"green":"textPrimary",children:[y&&Object(m.jsx)(f.e,{style:{marginRight:"8px"}}),t,!T&&Object(m.jsx)(f.o,{className:Object(h.default)("".concat(I?"":_.c," ").concat(_.b))}),(I||T)&&Object(m.jsxs)(d.b,{gap:"12",width:"full",paddingTop:T?"28":"auto",className:Object(h.default)(!T&&_.e),children:[r&&Object(m.jsx)(l.b,{color:"textPrimary",fontWeight:"normal",className:r,children:r}),u&&Object(m.jsx)(l.b,{color:"textSecondary",className:b.a,children:u}),Object(m.jsx)(d.b,{gap:"8",children:p.map((function(e,t){var n;return Object(m.jsxs)(d.b,{gap:"8",children:[Object(m.jsxs)(d.c,{children:[e.images.map((function(t,n){return Object(m.jsx)(l.b,{as:"img",height:"20",width:"20",borderRadius:0===n&&e.collectionAddress?"round":"4",style:{zIndex:2-n},className:_.d,src:t,alt:e.name},n)})),Object(m.jsx)(l.b,{marginLeft:"8",marginRight:"auto",fontWeight:"normal",color:"textPrimary",textOverflow:"ellipsis",overflow:"hidden",maxWidth:{sm:"max",md:e.status===g.e.REJECTED||e.status===g.e.FAILED?"120":"full"},className:b.c,children:e.name}),T?D(e)&&"".concat(Object(v.c)(Object(v.g)(null!==(n=D(e))&&void 0!==n?n:0).toString())," ETH"):e.status===g.e.APPROVED?Object(m.jsx)(f.e,{height:"20",width:"20"}):e.status===g.e.FAILED||e.status===g.e.REJECTED?Object(m.jsxs)(d.c,{gap:"4",children:[Object(m.jsx)(l.b,{fontWeight:"normal",fontSize:"14",color:"textSecondary",children:e.status}),Object(m.jsx)(f.B,{})]}):e.status===g.e.SIGNING&&Object(m.jsx)(f.I,{height:"20",width:"20",stroke:"#4673FA"})]}),(e.status===g.e.FAILED||e.status===g.e.REJECTED)&&Object(m.jsxs)(d.c,{gap:"8",justifyContent:"center",children:[Object(m.jsx)(l.b,{width:"120",as:"button",className:b.f,borderRadius:"12",border:"none",color:"red400",height:"32",cursor:"pointer",style:{backgroundColor:"#FA2B391A"},onClick:function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),k(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Remove"}),Object(m.jsx)(l.b,{width:"120",as:"button",className:b.f,borderRadius:"12",border:"none",color:"genieBlue",height:"32",cursor:"pointer",style:{backgroundColor:"#4C82FB29"},onClick:function(){var t=Object(s.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),!e.callback){t.next=4;break}return t.next=4,e.callback();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Try again"})]})]},t)}))})]})]})},R=n(1719);t.default=function(){var e=Object(u.useWeb3React)().provider,t=Object(E.k)((function(e){return e.sellAssets})),n=null===e||void 0===e?void 0:e.getSigner(),r=Object(E.i)((function(e){return e.listings})),h=Object(E.i)((function(e){return e.setListings})),v=Object(E.i)((function(e){return e.collectionsRequiringApproval})),S=Object(E.i)((function(e){return e.setCollectionsRequiringApproval})),I=Object(j.useState)(0),x=Object(i.a)(I,2),N=x[0],w=x[1],C=Object(E.i)((function(e){return e.listingStatus})),k=Object(E.i)((function(e){return e.setListingStatus})),D=Object(j.useState)(!1),y=Object(i.a)(D,2),L=y[0],F=y[1],W=Object(E.i)((function(e){return e.looksRareNonce})),G=Object(E.i)((function(e){return e.setLooksRareNonce})),z=Object(E.i)((function(e){return e.getLooksRareNonce})),K=Object(E.d)((function(e){return e.toggleBag})),Y=Object(j.useRef)(W),M=Object(E.h)();Object(j.useEffect)((function(){E.i.subscribe((function(e){return Y.current=e.looksRareNonce}))}),[]);var U=Object(j.useMemo)((function(){return Object(R.d)(t)}),[t]);Object(j.useEffect)((function(){(null===v||void 0===v?void 0:v.length)&&F(v.every((function(e){return e.status===g.e.APPROVED}))),!L||C!==g.e.PENDING&&C!==g.e.CONTINUE||V()}),[v,L]);var B=function(){var e=Object(s.a)(a.a.mark((function e(){var t,r,s,i,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return k(g.e.SIGNING),t=o.b[o.a.MAINNET],e.next=6,n.getAddress();case 6:return r=e.sent,e.next=9,Object(A.m)(r);case 9:s=e.sent,G(null!==s&&void 0!==s?s:0),(null===v||void 0===v?void 0:v.some((function(e){return e.status===g.e.PAUSED})))||(k(g.e.SIGNING),w(1)),i=t.TRANSFER_MANAGER_ERC721,u=Object(c.a)(v);try{for(u.s();!(l=u.n()).done;)d=l.value,Object(R.h)(d.status)&&Object(R.a)(d,v,S,n,i,H)}catch(a){u.e(a)}finally{u.f()}case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var t=Object(s.a)(a.a.mark((function t(){var s,i,o,u,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return");case 2:k(g.e.SIGNING),w(2),i=Object(c.a)(r),t.prev=5,i.s();case 7:if((o=i.n()).done){t.next=15;break}if(u=o.value,t.t0=Object(R.h)(u.status),!t.t0){t.next=13;break}return t.next=13,Object(R.g)(u,r,h,n,e,z,G,H);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),i.e(t.t1);case 20:return t.prev=20,i.f(),t.finish(20);case 23:return l=r.every((function(e){return e.status===g.e.APPROVED})),d=r.some((function(e){return e.status===g.e.PAUSED})),l?(w(0),k(g.e.APPROVED)):d||k(g.e.FAILED),t.t2=A.l,t.t3=r,t.next=30,null===n||void 0===n?void 0:n.getAddress();case 30:if(t.t5=s=t.sent,t.t4=null!==t.t5,!t.t4){t.next=34;break}t.t4=void 0!==s;case 34:if(!t.t4){t.next=38;break}t.t6=s,t.next=39;break;case 38:t.t6="";case 39:return t.t7=t.t6,t.next=42,(0,t.t2)(t.t3,t.t7);case 42:case"end":return t.stop()}}),t,null,[[5,17,20,23]])})));return function(){return t.apply(this,arguments)}}(),H=function(){var e,t=Object(c.a)(v);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(R.e)(n,v,S)}}catch(o){t.e(o)}finally{t.f()}var a,s=Object(c.a)(r);try{for(s.s();!(a=s.n()).done;){var i=a.value;Object(R.e)(i,r,h)}}catch(o){s.e(o)}finally{s.f()}},J=Object(j.useMemo)((function(){return C===g.e.APPROVED}),[C]);return Object(m.jsxs)(d.b,{paddingTop:"20",paddingBottom:"20",paddingLeft:"12",paddingRight:"12",children:[Object(m.jsxs)(d.c,{className:b.j,marginBottom:"10",children:[M&&!J&&Object(m.jsx)(l.b,{paddingTop:"4",marginRight:"4",onClick:K,children:Object(m.jsx)(f.m,{height:28,width:28})}),J?"Success!":"Listing ".concat(t.length," NFTs"),Object(m.jsx)(l.b,{as:"button",border:"none",color:"textSecondary",backgroundColor:"backgroundSurface",marginLeft:"auto",marginRight:"0",paddingRight:"0",display:{sm:"flex",md:"none"},cursor:"pointer",onClick:K,children:Object(m.jsx)(f.hb,{height:28,width:28,fill:p.c.colors.textPrimary})})]}),Object(m.jsx)(d.b,{overflowX:"hidden",overflowY:"auto",style:{maxHeight:"60vh"},children:J?Object(m.jsx)(T,{sectionTitle:"Listed ".concat(r.length," item").concat(Object(O.a)(r.length)," for sale"),rows:r,index:0,openIndex:N,isSuccessScreen:!0}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(T,{sectionTitle:"Approve ".concat(v.length," collection").concat(Object(O.a)(v.length)),title:"COLLECTIONS",rows:v,index:1,openIndex:N}),Object(m.jsx)(T,{sectionTitle:"Confirm ".concat(r.length," listing").concat(Object(O.a)(r.length)),caption:"Now you can sign to list each item",title:"NFTS",rows:r,index:2,openIndex:N})]})}),Object(m.jsx)("hr",{className:_.f}),Object(m.jsxs)(d.c,{className:b.l,marginTop:"12",marginBottom:J?"8":"20",children:["Return if sold",Object(m.jsxs)(d.c,{className:b.m,marginLeft:"auto",marginRight:"0",children:[U,"\xa0ETH"]})]}),J?Object(m.jsxs)(l.b,{as:"span",className:b.g,color:"textSecondary",children:["Status:"," ",Object(m.jsx)(l.b,{as:"span",color:"green200",children:"Confirmed"})]}):Object(m.jsx)(P.a,{onClick:function(){!function(){var e,t=Object(c.a)(v);try{for(t.s();!(e=t.n()).done;){var n=e.value;Object(R.f)(n,v,S)}}catch(o){t.e(o)}finally{t.f()}var a,s=Object(c.a)(r);try{for(s.s();!(a=s.n()).done;){var i=a.value;Object(R.f)(i,r,h)}}catch(o){s.e(o)}finally{s.f()}}(),L?V():B()},buttonText:"Start listing",showWarningOverride:M}),(C===g.e.PENDING||C===g.e.SIGNING)&&Object(m.jsx)(l.b,{as:"button",border:"none",backgroundColor:"backgroundSurface",cursor:"pointer",color:"orange",className:_.a,onClick:function(){H()},type:"button",children:"Stop listing"})]})}}}]);
//# sourceMappingURL=17.cdefb52b.chunk.js.map